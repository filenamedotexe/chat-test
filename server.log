
> chat-application@0.1.0 dev
> next dev

  ▲ Next.js 14.2.13
  - Local:        http://localhost:3000
  - Environments: .env.local, .env

 ✓ Starting...
 ✓ Ready in 895ms
 ✓ Compiled /middleware in 210ms (216 modules)
 ✓ Compiled /api/support-chat/conversations in 337ms (340 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/support-chat/conversations?unread_only=true 200 in 621ms
 ○ Compiling / ...
 ✓ Compiled / in 2.1s (2157 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET / 200 in 2195ms
 ✓ Compiled in 110ms (899 modules)
 ✓ Compiled /login in 205ms (2143 modules)
 GET /login 200 in 270ms
 ✓ Compiled /api/auth/[...nextauth] in 104ms (1283 modules)
 ✓ Compiled (1285 modules)
 GET /favicon.ico 200 in 203ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 398ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/providers 200 in 5ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 434ms
 GET /api/auth/session 200 in 6ms
 GET /?_rsc=r3yhw 200 in 10ms
 ✓ Compiled /dashboard in 253ms (2241 modules)
 GET /favicon.ico 200 in 250ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /dashboard?_rsc=1hhhi 200 in 128ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard 200 in 50ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
 ✓ Compiled /chat in 237ms (2250 modules)
 GET /favicon.ico 200 in 6ms
 ✓ Compiled /_not-found in 241ms (2253 modules)
 GET /api/features 404 in 279ms
 GET /api/features 404 in 10ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 9ms
 GET /api/auth/session 200 in 3ms
 GET /favicon.ico 200 in 4ms
 GET /api/auth/session 200 in 3ms
 GET /favicon.ico 200 in 5ms
 GET /api/support-chat/conversations 200 in 144ms
 GET /favicon.ico 200 in 5ms
 ○ Compiling /api/chat-langchain ...
 ✓ Compiled /api/chat-langchain in 617ms (1902 modules)
 GET /api/chat-langchain 405 in 716ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/support-chat/conversations?unread_only=true 200 in 155ms
 GET /api/support-chat/conversations?unread_only=true 200 in 227ms
 ✓ Compiled in 375ms (1474 modules)
 ✓ Compiled in 71ms (932 modules)
 ✓ Compiled in 84ms (932 modules)
 ✓ Compiled /api/features in 181ms (355 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/features 200 in 324ms
 GET /api/support-chat/conversations?unread_only=true 200 in 201ms
 GET /api/support-chat/conversations?unread_only=true 200 in 243ms
 GET /api/support-chat/conversations?unread_only=true 200 in 192ms
 ✓ Compiled /login in 252ms (1238 modules)
 GET /login 200 in 324ms
 ✓ Compiled /api/auth/[...nextauth] in 54ms (1266 modules)
 ✓ Compiled (1279 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 221ms
 GET /favicon.ico 200 in 227ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/providers 200 in 3ms
 GET /api/auth/csrf 200 in 4ms
 POST /api/auth/callback/credentials 200 in 340ms
 GET /api/auth/session 200 in 7ms
 ✓ Compiled / in 64ms (1285 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /?_rsc=r3yhw 200 in 27ms
 ✓ Compiled /dashboard in 80ms (1326 modules)
 GET /favicon.ico 200 in 133ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /dashboard?_rsc=1hhhi 200 in 15ms
 GET /favicon.ico 200 in 4ms
 ✓ Compiled /api/features in 111ms (1328 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
Features API error: NeonDbError: relation "user_feature_overrides" does not exist
    at execute (webpack-internal:///(rsc)/./node_modules/@neondatabase/serverless/index.mjs:1570:55)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async GET (webpack-internal:///(rsc)/./app/api/features/route.ts:30:29)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:55759
    at async eO.execute (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46527)
    at async eO.handle (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57093)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1345:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '51',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1449',
  routine: 'parserOpenTable',
  sourceError: undefined
}
 GET /api/features 500 in 195ms
 GET /dashboard 200 in 55ms
 GET /favicon.ico 200 in 8ms
 GET /api/auth/session 200 in 8ms
 GET /api/auth/session 200 in 3ms
 GET /login 200 in 18ms
 GET /api/auth/session 200 in 5ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 5ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 516ms
 GET /api/auth/session 200 in 4ms
 GET /?_rsc=r3yhw 200 in 5ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 7ms
 GET /favicon.ico 200 in 4ms
Features API error: NeonDbError: relation "user_feature_overrides" does not exist
    at execute (webpack-internal:///(rsc)/./node_modules/@neondatabase/serverless/index.mjs:1570:55)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async GET (webpack-internal:///(rsc)/./app/api/features/route.ts:30:29)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:55759
    at async eO.execute (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46527)
    at async eO.handle (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57093)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1345:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '51',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1449',
  routine: 'parserOpenTable',
  sourceError: undefined
}
 GET /api/features 500 in 81ms
 GET /dashboard 200 in 11ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
 ✓ Compiled /chat in 100ms (1334 modules)
 GET /favicon.ico 200 in 5ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /dashboard 200 in 42ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
 ✓ Compiled /apps in 255ms (2270 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /apps?_rsc=1kieo 200 in 8ms
 ✓ Compiled /api/user/apps/available in 86ms (1348 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /favicon.ico 200 in 149ms
 GET /api/user/apps/available 200 in 409ms
 GET /api/user/apps/available 200 in 139ms
 GET /dashboard 200 in 18ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 6ms
 GET /api/auth/session 200 in 3ms
 ✓ Compiled /profile in 184ms (2294 modules)
 ✓ Compiled /api/user/permissions in 99ms (1370 modules)
 ✓ Compiled (1375 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /favicon.ico 200 in 228ms
 GET /api/user/permissions 200 in 389ms
 GET /api/user/permissions 200 in 45ms
 GET /api/user/activity 200 in 711ms
 GET /api/user/profile 200 in 915ms
 GET /api/user/activity 200 in 302ms
 GET /api/user/profile 200 in 405ms
 GET /chat 200 in 59ms
 GET /favicon.ico 200 in 3ms
 GET /api/support-chat/conversations?unread_only=true 200 in 47ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
 ✓ Compiled /api/chat-langchain in 184ms (1944 modules)
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
🔍 Checking handoff for message: I need urgent human support with billing
🔍 Handoff result: {
  shouldHandoff: true,
  context: {
    aiChatHistory: [ [Object] ],
    userIntent: 'Payment or billing support required',
    urgency: 'high',
    category: 'billing',
    summary: 'User discussed: support, billing. Latest: I need urgent human support with billing...',
    handoffReason: 'User explicitly requested to speak with a human'
  }
}
🎯 HANDOFF TRIGGERED! Returning handoff suggestion to client
 POST /api/chat-langchain 200 in 277ms
 ✓ Compiled /api/support-chat/handoff in 148ms (1947 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 POST /api/support-chat/handoff 200 in 451ms
 ✓ Compiled /support/[id] in 296ms (2911 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /support/25?_rsc=13efr 200 in 182ms
 ✓ Compiled /api/support-chat/conversations/[id] in 118ms (1967 modules)
 GET /favicon.ico 200 in 214ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/support-chat/conversations/25 200 in 563ms
 GET /api/support-chat/conversations/25 200 in 151ms
 GET /login 200 in 24ms
 GET /api/auth/session 200 in 6ms
 GET /favicon.ico 200 in 9ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 5ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 320ms
 GET /api/auth/session 200 in 5ms
 GET /?_rsc=r3yhw 200 in 6ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 8ms
 GET /favicon.ico 200 in 4ms
Features API error: NeonDbError: relation "user_feature_overrides" does not exist
    at execute (webpack-internal:///(rsc)/./node_modules/@neondatabase/serverless/index.mjs:1570:55)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async GET (webpack-internal:///(rsc)/./app/api/features/route.ts:30:29)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:55759
    at async eO.execute (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46527)
    at async eO.handle (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57093)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1345:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '51',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1449',
  routine: 'parserOpenTable',
  sourceError: undefined
}
 GET /api/features 500 in 80ms
 GET /dashboard 200 in 18ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
 GET /favicon.ico 200 in 3ms
 GET /api/support-chat/conversations?unread_only=true 200 in 54ms
 GET /dashboard 200 in 13ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
 GET /apps?_rsc=1kieo 200 in 7ms
 GET /favicon.ico 200 in 4ms
 GET /api/user/apps/available 200 in 254ms
 GET /api/user/apps/available 200 in 79ms
 GET /dashboard 200 in 13ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 4ms
 GET /favicon.ico 200 in 4ms
 GET /api/user/permissions 200 in 119ms
 GET /api/user/permissions 200 in 44ms
 GET /api/user/activity 200 in 370ms
 GET /api/user/profile 200 in 576ms
 GET /api/user/activity 200 in 224ms
 GET /api/user/profile 200 in 385ms
 GET /chat 200 in 45ms
 GET /favicon.ico 200 in 3ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 3ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: I need urgent human support with billing
🔍 Handoff result: {
  shouldHandoff: true,
  context: {
    aiChatHistory: [ [Object] ],
    userIntent: 'Payment or billing support required',
    urgency: 'high',
    category: 'billing',
    summary: 'User discussed: support, billing. Latest: I need urgent human support with billing...',
    handoffReason: 'User explicitly requested to speak with a human'
  }
}
🎯 HANDOFF TRIGGERED! Returning handoff suggestion to client
 POST /api/chat-langchain 200 in 81ms
 POST /api/support-chat/handoff 200 in 379ms
 GET /support/26?_rsc=fr5n2 200 in 76ms
 GET /favicon.ico 200 in 4ms
 GET /api/support-chat/conversations/26 200 in 205ms
 GET /api/support-chat/conversations/26 200 in 151ms
 GET /login 200 in 14ms
 GET /api/auth/session 200 in 6ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 5ms
 GET /api/auth/csrf 200 in 4ms
 POST /api/auth/callback/credentials 200 in 345ms
 GET /api/auth/session 200 in 5ms
 GET /?_rsc=r3yhw 200 in 6ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 6ms
 GET /favicon.ico 200 in 4ms
 GET /chat 200 in 13ms
 GET /favicon.ico 200 in 3ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 4ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: I need urgent human support with billing
🔍 Handoff result: {
  shouldHandoff: true,
  context: {
    aiChatHistory: [ [Object] ],
    userIntent: 'Payment or billing support required',
    urgency: 'high',
    category: 'billing',
    summary: 'User discussed: support, billing. Latest: I need urgent human support with billing...',
    handoffReason: 'User explicitly requested to speak with a human'
  }
}
🎯 HANDOFF TRIGGERED! Returning handoff suggestion to client
 POST /api/chat-langchain 200 in 6ms
 POST /api/support-chat/handoff 200 in 383ms
 GET /support/27?_rsc=wi6lj 200 in 79ms
 GET /favicon.ico 200 in 4ms
 GET /api/support-chat/conversations/27 200 in 149ms
 GET /api/support-chat/conversations/27 200 in 205ms
 GET /api/support-chat/conversations?unread_only=true 200 in 46ms
 GET /api/support-chat/conversations?unread_only=true 200 in 342ms
 GET /login 200 in 13ms
 GET /api/auth/session 200 in 6ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 2ms
 GET /api/auth/providers 200 in 5ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 361ms
 GET /api/auth/session 200 in 5ms
 GET /?_rsc=r3yhw 200 in 7ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 7ms
 GET /favicon.ico 200 in 4ms
 GET /chat 200 in 15ms
 GET /favicon.ico 200 in 4ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 4ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: Hello, I have a question about my billing
🔍 Handoff result: {
  shouldHandoff: true,
  context: {
    aiChatHistory: [ [Object] ],
    userIntent: 'Payment or billing support required',
    urgency: 'normal',
    category: 'billing',
    summary: 'User discussed: billing. Latest: Hello, I have a question about my billing...',
    handoffReason: 'User explicitly requested to speak with a human'
  }
}
🎯 HANDOFF TRIGGERED! Returning handoff suggestion to client
 POST /api/chat-langchain 200 in 5ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: I was charged twice for my subscription
🔍 Handoff result: {
  shouldHandoff: true,
  context: {
    aiChatHistory: [ [Object], [Object], [Object] ],
    userIntent: 'General support needed',
    urgency: 'normal',
    category: 'billing',
    summary: 'User discussed: billing. Latest: I was charged twice for my subscription...',
    handoffReason: 'User explicitly requested to speak with a human'
  }
}
🎯 HANDOFF TRIGGERED! Returning handoff suggestion to client
 POST /api/chat-langchain 200 in 5ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: I need urgent human support with billing
🔍 Handoff result: {
  shouldHandoff: true,
  context: {
    aiChatHistory: [ [Object], [Object], [Object], [Object], [Object] ],
    userIntent: 'Payment or billing support required',
    urgency: 'high',
    category: 'billing',
    summary: 'User discussed: billing, support. Latest: I need urgent human support with billing...',
    handoffReason: 'User explicitly requested to speak with a human'
  }
}
🎯 HANDOFF TRIGGERED! Returning handoff suggestion to client
 POST /api/chat-langchain 200 in 5ms
 POST /api/support-chat/handoff 200 in 416ms
 GET /support/28?_rsc=1skm1 200 in 162ms
 GET /favicon.ico 200 in 4ms
 GET /api/support-chat/conversations/28 200 in 148ms
 GET /api/support-chat/conversations/28 200 in 148ms
 GET /api/support-chat/conversations/28 200 in 210ms
 GET /api/support-chat/conversations?unread_only=true 200 in 58ms
 GET /api/support-chat/conversations?unread_only=true 200 in 464ms
 GET /login 200 in 14ms
 GET /api/auth/session 200 in 5ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 5ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 592ms
 GET /api/auth/session 200 in 4ms
 GET /?_rsc=r3yhw 200 in 7ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 5ms
 GET /favicon.ico 200 in 4ms
 GET /api/support-chat/conversations?unread_only=true 200 in 128ms
 GET /support/28 200 in 87ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 4ms
 GET /api/support-chat/conversations/28 200 in 231ms
 GET /api/support-chat/conversations/28 200 in 147ms
 GET /login 200 in 14ms
 GET /api/auth/session 200 in 5ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 391ms
 GET /api/auth/session 200 in 6ms
 GET /?_rsc=r3yhw 200 in 6ms
 GET /favicon.ico 200 in 6ms
 GET /dashboard?_rsc=1hhhi 200 in 8ms
 GET /favicon.ico 200 in 4ms
 GET /support/28 200 in 85ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 6ms
 GET /api/auth/session 200 in 3ms
 GET /api/support-chat/conversations/28 200 in 234ms
 GET /api/support-chat/conversations/28 200 in 149ms
 GET /api/support-chat/conversations?unread_only=true 200 in 131ms
 GET /login 200 in 14ms
 GET /api/auth/session 200 in 5ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 6ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 391ms
 GET /api/auth/session 200 in 5ms
 GET /?_rsc=r3yhw 200 in 7ms
 GET /favicon.ico 200 in 6ms
 GET /dashboard?_rsc=1hhhi 200 in 7ms
 GET /favicon.ico 200 in 4ms
 GET /support/28 200 in 88ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 4ms
 GET /api/support-chat/conversations/28 200 in 158ms
 GET /api/support-chat/conversations/28 200 in 150ms
 GET /login 200 in 12ms
 GET /api/auth/session 200 in 5ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 395ms
 GET /api/auth/session 200 in 5ms
 GET /?_rsc=r3yhw 200 in 5ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 7ms
 GET /favicon.ico 200 in 3ms
 GET /api/support-chat/conversations?unread_only=true 200 in 42ms
 GET /support/28 200 in 88ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/session 200 in 3ms
 GET /api/support-chat/conversations/28 200 in 158ms
 GET /api/support-chat/conversations/28 200 in 149ms
 GET /login 200 in 10ms
 GET /api/auth/session 200 in 6ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 5ms
 GET /api/auth/csrf 200 in 4ms
 POST /api/auth/callback/credentials 200 in 377ms
 GET /api/auth/session 200 in 5ms
 GET /?_rsc=r3yhw 200 in 8ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 7ms
 GET /favicon.ico 200 in 4ms
 GET /support/28 200 in 81ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 3ms
 GET /api/support-chat/conversations/28 200 in 206ms
 GET /api/support-chat/conversations/28 200 in 148ms
 GET /api/support-chat/conversations?unread_only=true 200 in 44ms
 GET /login 200 in 12ms
 GET /api/auth/session 200 in 5ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 4ms
 POST /api/auth/callback/credentials 200 in 385ms
 GET /api/auth/session 200 in 7ms
 GET /?_rsc=r3yhw 200 in 6ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 6ms
 GET /favicon.ico 200 in 4ms
 GET /apps?_rsc=1kieo 200 in 5ms
 GET /chat 200 in 17ms
 GET /api/user/activity 200 in 20ms
 GET /api/user/permissions 200 in 21ms
 GET /api/user/profile 200 in 21ms
 GET /favicon.ico 200 in 9ms
 GET /favicon.ico 200 in 4ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 4ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: Test message functionality
🔍 Handoff result: { shouldHandoff: false }
Memory loaded for session session-1753148581007-flk7l1jf3 (buffer): {
  "history": []
}
[32m[chain/start][39m [[90m[1m1:chain:ConversationChain[22m[39m] Entering Chain run with input: {
  "input": "Test message functionality",
  "history": []
}
[32m[llm/start][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] Entering LLM run with input: {
  "messages": [
    [
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "SystemMessage"
        ],
        "kwargs": {
          "content": "You are a helpful assistant created by Neon.tech and Aceternity. Your job is to answer questions asked by the user in a polite and respectful manner. Always answer in markdown.",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      },
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "HumanMessage"
        ],
        "kwargs": {
          "content": "Test message functionality",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      }
    ]
  ]
}
LLM streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:43:01 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_39d28578634581c25a26f3268ceb669b',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=iZyuFnzn6wLLU5BedUPN2HrbB8us4d6h4k1TM6AwtxQ-1753148581-1.0.1.1-jEo0kg2oJWVf1NJrn6hTXSIw_RrD8MokeHA2Gv.BifNLpSaJBxZMa8bkuBjfH7iDshzvvoo.M5Ht8apoVg432j7_OUyNH5yiqDJ55xQ7pmU; path=/; expires=Tue, 22-Jul-25 02:13:01 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=jpLHvOzEI99Y7FX5S3ySzHQIIazMcdvMdPr1eJ6UzlU-1753148581904-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f3eac2da46188-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_39d28578634581c25a26f3268ceb669b',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
[31m[llm/error][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] [241ms] LLM run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
 ⨯ Error: failed to pipe response
    at pipeToNodeResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/pipe-readable.js:126:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/send-response.js:40:13)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1375:25)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  [cause]: LangChainError: OpenAI API key is invalid or missing
      at handleOpenAIError (webpack-internal:///(rsc)/./lib/langchain-core/error-handler.ts:46:16)
      at Handler.handleLLMError (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:139:130)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:223:51)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:58:23)
      at run (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:157:104)
      at PQueue._tryToStartAnother (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:105:17)
      at eval (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:171:18)
      at new Promise (<anonymous>)
      at PQueue.add (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:152:16)
      at consumeCallback (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:52:20)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:119)
      at Array.map (<anonymous>)
      at CallbackManagerForLLMRun.handleLLMError (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:41)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:297:45)
      at Array.map (<anonymous>)
      at ChatOpenAI._generateUncached (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:268:39)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async ConversationChain._call (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/llm_chain.js:168:37)
      at async ConversationChain.invoke (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/base.js:63:28)
      at async Object.start (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:103:38) {
    code: 'OPENAI_API_KEY_MISSING',
    statusCode: 401,
    details: undefined
  }
}
[31m[chain/error][39m [[90m[1m1:chain:ConversationChain[22m[39m] [244ms] Chain run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
Streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:43:01 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_39d28578634581c25a26f3268ceb669b',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=iZyuFnzn6wLLU5BedUPN2HrbB8us4d6h4k1TM6AwtxQ-1753148581-1.0.1.1-jEo0kg2oJWVf1NJrn6hTXSIw_RrD8MokeHA2Gv.BifNLpSaJBxZMa8bkuBjfH7iDshzvvoo.M5Ht8apoVg432j7_OUyNH5yiqDJ55xQ7pmU; path=/; expires=Tue, 22-Jul-25 02:13:01 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=jpLHvOzEI99Y7FX5S3ySzHQIIazMcdvMdPr1eJ6UzlU-1753148581904-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f3eac2da46188-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_39d28578634581c25a26f3268ceb669b',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
 POST /api/chat-langchain 500 in 319ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: Test message functionality
🔍 Handoff result: { shouldHandoff: false }
Memory loaded for session session-1753148581007-flk7l1jf3 (buffer): {
  "history": []
}
[32m[chain/start][39m [[90m[1m1:chain:ConversationChain[22m[39m] Entering Chain run with input: {
  "input": "Test message functionality",
  "history": []
}
[32m[llm/start][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] Entering LLM run with input: {
  "messages": [
    [
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "SystemMessage"
        ],
        "kwargs": {
          "content": "You are a helpful assistant created by Neon.tech and Aceternity. Your job is to answer questions asked by the user in a polite and respectful manner. Always answer in markdown.",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      },
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "HumanMessage"
        ],
        "kwargs": {
          "content": "Test message functionality",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      }
    ]
  ]
}
LLM streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:43:02 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_107c08e0445264e3e406a5751d54dc50',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=oPh3uV2IoW7QLYPRRa3AgsNQo13n6k.1USExvleaMUM-1753148582-1.0.1.1-kYCfWK75WKO449lzW1QZJdQoiXTcB6pGAWPluUfnCDK9.4QQSNRMa8bU6slBGcyXuOPqmd6P7hZPkwJ5NNCgh26nwIQTNXp23lnA6FzJSBM; path=/; expires=Tue, 22-Jul-25 02:13:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=50X3Vmm2eqKvmM7p8BtW4nMAZB4PWn1n1Tfu_aGtut8-1753148582098-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f3ead9f2b6188-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_107c08e0445264e3e406a5751d54dc50',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
[31m[llm/error][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] [111ms] LLM run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
 ⨯ Error: failed to pipe response
    at pipeToNodeResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/pipe-readable.js:126:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/send-response.js:40:13)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1375:25)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  [cause]: LangChainError: OpenAI API key is invalid or missing
      at handleOpenAIError (webpack-internal:///(rsc)/./lib/langchain-core/error-handler.ts:46:16)
      at Handler.handleLLMError (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:139:130)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:223:51)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:58:23)
      at run (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:157:104)
      at PQueue._tryToStartAnother (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:105:17)
      at eval (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:171:18)
      at new Promise (<anonymous>)
      at PQueue.add (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:152:16)
      at consumeCallback (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:52:20)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:119)
      at Array.map (<anonymous>)
      at CallbackManagerForLLMRun.handleLLMError (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:41)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:297:45)
      at Array.map (<anonymous>)
      at ChatOpenAI._generateUncached (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:268:39)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async ConversationChain._call (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/llm_chain.js:168:37)
      at async ConversationChain.invoke (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/base.js:63:28)
      at async Object.start (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:103:38) {
    code: 'OPENAI_API_KEY_MISSING',
    statusCode: 401,
    details: undefined
  }
}
[31m[chain/error][39m [[90m[1m1:chain:ConversationChain[22m[39m] [112ms] Chain run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
Streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:43:02 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_107c08e0445264e3e406a5751d54dc50',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=oPh3uV2IoW7QLYPRRa3AgsNQo13n6k.1USExvleaMUM-1753148582-1.0.1.1-kYCfWK75WKO449lzW1QZJdQoiXTcB6pGAWPluUfnCDK9.4QQSNRMa8bU6slBGcyXuOPqmd6P7hZPkwJ5NNCgh26nwIQTNXp23lnA6FzJSBM; path=/; expires=Tue, 22-Jul-25 02:13:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=50X3Vmm2eqKvmM7p8BtW4nMAZB4PWn1n1Tfu_aGtut8-1753148582098-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f3ead9f2b6188-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_107c08e0445264e3e406a5751d54dc50',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
 POST /api/chat-langchain 500 in 186ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: Test message functionality
🔍 Handoff result: { shouldHandoff: false }
Memory loaded for session session-1753148581007-flk7l1jf3 (buffer): {
  "history": []
}
[32m[chain/start][39m [[90m[1m1:chain:ConversationChain[22m[39m] Entering Chain run with input: {
  "input": "Test message functionality",
  "history": []
}
[32m[llm/start][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] Entering LLM run with input: {
  "messages": [
    [
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "SystemMessage"
        ],
        "kwargs": {
          "content": "You are a helpful assistant created by Neon.tech and Aceternity. Your job is to answer questions asked by the user in a polite and respectful manner. Always answer in markdown.",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      },
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "HumanMessage"
        ],
        "kwargs": {
          "content": "Test message functionality",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      }
    ]
  ]
}
LLM streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:43:02 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_24c2914b225c9f47b4ecb4393ec24b76',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=TLYYcWUD4uSvTY7idCiRlGo92y9bVPvFUF3p8GMq7fg-1753148582-1.0.1.1-OKfRK47JdwgeO6w9t46xCdz42FKo0c5N7CtV6l2qGNhTlR490QqVGexmtGjLLmtN4xfrkU60wEfSasCQ1tuy_ugTQaoLC9n1Xu9gRVjUvd4; path=/; expires=Tue, 22-Jul-25 02:13:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=TUOAcg99WAtX7BEi4KOQzfWryke19fY5ldR0Jg4HGbU-1753148582290-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f3eaec8586188-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_24c2914b225c9f47b4ecb4393ec24b76',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
[31m[llm/error][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] [108ms] LLM run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
 ⨯ Error: failed to pipe response
    at pipeToNodeResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/pipe-readable.js:126:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/send-response.js:40:13)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1375:25)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  [cause]: LangChainError: OpenAI API key is invalid or missing
      at handleOpenAIError (webpack-internal:///(rsc)/./lib/langchain-core/error-handler.ts:46:16)
      at Handler.handleLLMError (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:139:130)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:223:51)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:58:23)
      at run (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:157:104)
      at PQueue._tryToStartAnother (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:105:17)
      at eval (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:171:18)
      at new Promise (<anonymous>)
      at PQueue.add (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:152:16)
      at consumeCallback (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:52:20)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:119)
      at Array.map (<anonymous>)
      at CallbackManagerForLLMRun.handleLLMError (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:41)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:297:45)
      at Array.map (<anonymous>)
      at ChatOpenAI._generateUncached (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:268:39)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async ConversationChain._call (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/llm_chain.js:168:37)
      at async ConversationChain.invoke (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/base.js:63:28)
      at async Object.start (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:103:38) {
    code: 'OPENAI_API_KEY_MISSING',
    statusCode: 401,
    details: undefined
  }
}
[31m[chain/error][39m [[90m[1m1:chain:ConversationChain[22m[39m] [108ms] Chain run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
Streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:43:02 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_24c2914b225c9f47b4ecb4393ec24b76',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=TLYYcWUD4uSvTY7idCiRlGo92y9bVPvFUF3p8GMq7fg-1753148582-1.0.1.1-OKfRK47JdwgeO6w9t46xCdz42FKo0c5N7CtV6l2qGNhTlR490QqVGexmtGjLLmtN4xfrkU60wEfSasCQ1tuy_ugTQaoLC9n1Xu9gRVjUvd4; path=/; expires=Tue, 22-Jul-25 02:13:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=TUOAcg99WAtX7BEi4KOQzfWryke19fY5ldR0Jg4HGbU-1753148582290-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f3eaec8586188-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_24c2914b225c9f47b4ecb4393ec24b76',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
 POST /api/chat-langchain 500 in 185ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: Test message functionality
🔍 Handoff result: { shouldHandoff: false }
Memory loaded for session session-1753148581007-flk7l1jf3 (buffer): {
  "history": []
}
[32m[chain/start][39m [[90m[1m1:chain:ConversationChain[22m[39m] Entering Chain run with input: {
  "input": "Test message functionality",
  "history": []
}
[32m[llm/start][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] Entering LLM run with input: {
  "messages": [
    [
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "SystemMessage"
        ],
        "kwargs": {
          "content": "You are a helpful assistant created by Neon.tech and Aceternity. Your job is to answer questions asked by the user in a polite and respectful manner. Always answer in markdown.",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      },
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "HumanMessage"
        ],
        "kwargs": {
          "content": "Test message functionality",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      }
    ]
  ]
}
LLM streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:43:02 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_8054d501ac9a155971b460a59c9ece11',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=zlCPWt.9BWZ6QFgAb8lQBHj4nuzwJPxUhqkD9wjK8l8-1753148582-1.0.1.1-AiuM9npV3yL.N4ZYymfwDS23G5ZTWKWWQ_xivIrJnIDvSZZg7eL3LK8bZ2iHpPZgY96krbh59z7NKGm5QWPSzhqX42QcJ3aIM51mgIX_RWo; path=/; expires=Tue, 22-Jul-25 02:13:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=2dutz_uHGV0hpXHbzmi_2tvldRH2LTj5YaijoXmcF3M-1753148582492-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f3eaff94a6188-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_8054d501ac9a155971b460a59c9ece11',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
[31m[llm/error][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] [128ms] LLM run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
 ⨯ Error: failed to pipe response
    at pipeToNodeResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/pipe-readable.js:126:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/send-response.js:40:13)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1375:25)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  [cause]: LangChainError: OpenAI API key is invalid or missing
      at handleOpenAIError (webpack-internal:///(rsc)/./lib/langchain-core/error-handler.ts:46:16)
      at Handler.handleLLMError (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:139:130)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:223:51)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:58:23)
      at run (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:157:104)
      at PQueue._tryToStartAnother (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:105:17)
      at eval (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:171:18)
      at new Promise (<anonymous>)
      at PQueue.add (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:152:16)
      at consumeCallback (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:52:20)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:119)
      at Array.map (<anonymous>)
      at CallbackManagerForLLMRun.handleLLMError (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:41)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:297:45)
      at Array.map (<anonymous>)
      at ChatOpenAI._generateUncached (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:268:39)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async ConversationChain._call (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/llm_chain.js:168:37)
      at async ConversationChain.invoke (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/base.js:63:28)
      at async Object.start (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:103:38) {
    code: 'OPENAI_API_KEY_MISSING',
    statusCode: 401,
    details: undefined
  }
}
[31m[chain/error][39m [[90m[1m1:chain:ConversationChain[22m[39m] [129ms] Chain run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
Streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:43:02 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_8054d501ac9a155971b460a59c9ece11',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=zlCPWt.9BWZ6QFgAb8lQBHj4nuzwJPxUhqkD9wjK8l8-1753148582-1.0.1.1-AiuM9npV3yL.N4ZYymfwDS23G5ZTWKWWQ_xivIrJnIDvSZZg7eL3LK8bZ2iHpPZgY96krbh59z7NKGm5QWPSzhqX42QcJ3aIM51mgIX_RWo; path=/; expires=Tue, 22-Jul-25 02:13:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=2dutz_uHGV0hpXHbzmi_2tvldRH2LTj5YaijoXmcF3M-1753148582492-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f3eaff94a6188-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_8054d501ac9a155971b460a59c9ece11',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
 POST /api/chat-langchain 500 in 199ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: Test message functionality
🔍 Handoff result: { shouldHandoff: false }
Memory loaded for session session-1753148581007-flk7l1jf3 (buffer): {
  "history": []
}
[32m[chain/start][39m [[90m[1m1:chain:ConversationChain[22m[39m] Entering Chain run with input: {
  "input": "Test message functionality",
  "history": []
}
[32m[llm/start][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] Entering LLM run with input: {
  "messages": [
    [
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "SystemMessage"
        ],
        "kwargs": {
          "content": "You are a helpful assistant created by Neon.tech and Aceternity. Your job is to answer questions asked by the user in a polite and respectful manner. Always answer in markdown.",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      },
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "HumanMessage"
        ],
        "kwargs": {
          "content": "Test message functionality",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      }
    ]
  ]
}
LLM streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:43:02 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_6d6fd79978f139c360920bee28812489',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=T5o0pMeSJMy72MGwHRPjdWUBZVuI.PO0yOI5rgl65Ak-1753148582-1.0.1.1-.6asoYVNkF6Gr3TVPehlcx87KRKhpAIC6skU2Pf_GUIaHj27DUufC5iJhUFzcMl8Lc32QGe5v1pFziTcrfjoB_Xa8w9vJp50EWd5EaSpNbU; path=/; expires=Tue, 22-Jul-25 02:13:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=l35oQ8f2odJ4TtGPtjkIMam7f4iohXoP1fuMCDKoKs0-1753148582786-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f3eb1ab1b6188-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_6d6fd79978f139c360920bee28812489',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
[31m[llm/error][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] [145ms] LLM run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
 ⨯ Error: failed to pipe response
    at pipeToNodeResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/pipe-readable.js:126:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/send-response.js:40:13)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1375:25)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  [cause]: LangChainError: OpenAI API key is invalid or missing
      at handleOpenAIError (webpack-internal:///(rsc)/./lib/langchain-core/error-handler.ts:46:16)
      at Handler.handleLLMError (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:139:130)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:223:51)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:58:23)
      at run (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:157:104)
      at PQueue._tryToStartAnother (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:105:17)
      at eval (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:171:18)
      at new Promise (<anonymous>)
      at PQueue.add (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:152:16)
      at consumeCallback (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:52:20)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:119)
      at Array.map (<anonymous>)
      at CallbackManagerForLLMRun.handleLLMError (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:41)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:297:45)
      at Array.map (<anonymous>)
      at ChatOpenAI._generateUncached (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:268:39)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async ConversationChain._call (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/llm_chain.js:168:37)
      at async ConversationChain.invoke (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/base.js:63:28)
      at async Object.start (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:103:38) {
    code: 'OPENAI_API_KEY_MISSING',
    statusCode: 401,
    details: undefined
  }
}
[31m[chain/error][39m [[90m[1m1:chain:ConversationChain[22m[39m] [147ms] Chain run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
Streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:43:02 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_6d6fd79978f139c360920bee28812489',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=T5o0pMeSJMy72MGwHRPjdWUBZVuI.PO0yOI5rgl65Ak-1753148582-1.0.1.1-.6asoYVNkF6Gr3TVPehlcx87KRKhpAIC6skU2Pf_GUIaHj27DUufC5iJhUFzcMl8Lc32QGe5v1pFziTcrfjoB_Xa8w9vJp50EWd5EaSpNbU; path=/; expires=Tue, 22-Jul-25 02:13:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=l35oQ8f2odJ4TtGPtjkIMam7f4iohXoP1fuMCDKoKs0-1753148582786-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f3eb1ab1b6188-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_6d6fd79978f139c360920bee28812489',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
 POST /api/chat-langchain 500 in 292ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: Test message functionality
🔍 Handoff result: { shouldHandoff: false }
Memory loaded for session session-1753148581007-flk7l1jf3 (buffer): {
  "history": []
}
[32m[chain/start][39m [[90m[1m1:chain:ConversationChain[22m[39m] Entering Chain run with input: {
  "input": "Test message functionality",
  "history": []
}
[32m[llm/start][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] Entering LLM run with input: {
  "messages": [
    [
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "SystemMessage"
        ],
        "kwargs": {
          "content": "You are a helpful assistant created by Neon.tech and Aceternity. Your job is to answer questions asked by the user in a polite and respectful manner. Always answer in markdown.",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      },
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "HumanMessage"
        ],
        "kwargs": {
          "content": "Test message functionality",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      }
    ]
  ]
}
LLM streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:43:03 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_e962542d8ab1d9bb17cf2198b40bd40c',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=3EYoW9Pg.27LDFf0p5Z4rXBs6pOtThkJyyzJZnjeB6c-1753148583-1.0.1.1-K6XMTxJjNRHKfHgDWAY5W1RsniPy7e.x_PU0Wqf94Kgdg2X3O.bQ.3us2XVcy1vsVJKSpUJbpSbsU3azoDwphwC5VPiXrq7Mtlwr1P6XayE; path=/; expires=Tue, 22-Jul-25 02:13:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=thI7iKz7n6ngr19z2K3g9nNvBHcVvLnEmoAulmIGO5g-1753148583016-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f3eb32c5b6188-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_e962542d8ab1d9bb17cf2198b40bd40c',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
[31m[llm/error][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] [140ms] LLM run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
 ⨯ Error: failed to pipe response
    at pipeToNodeResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/pipe-readable.js:126:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/send-response.js:40:13)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1375:25)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  [cause]: LangChainError: OpenAI API key is invalid or missing
      at handleOpenAIError (webpack-internal:///(rsc)/./lib/langchain-core/error-handler.ts:46:16)
      at Handler.handleLLMError (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:139:130)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:223:51)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:58:23)
      at run (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:157:104)
      at PQueue._tryToStartAnother (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:105:17)
      at eval (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:171:18)
      at new Promise (<anonymous>)
      at PQueue.add (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:152:16)
      at consumeCallback (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:52:20)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:119)
      at Array.map (<anonymous>)
      at CallbackManagerForLLMRun.handleLLMError (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:41)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:297:45)
      at Array.map (<anonymous>)
      at ChatOpenAI._generateUncached (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:268:39)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async ConversationChain._call (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/llm_chain.js:168:37)
      at async ConversationChain.invoke (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/base.js:63:28)
      at async Object.start (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:103:38) {
    code: 'OPENAI_API_KEY_MISSING',
    statusCode: 401,
    details: undefined
  }
}
[31m[chain/error][39m [[90m[1m1:chain:ConversationChain[22m[39m] [141ms] Chain run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
Streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:43:03 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_e962542d8ab1d9bb17cf2198b40bd40c',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=3EYoW9Pg.27LDFf0p5Z4rXBs6pOtThkJyyzJZnjeB6c-1753148583-1.0.1.1-K6XMTxJjNRHKfHgDWAY5W1RsniPy7e.x_PU0Wqf94Kgdg2X3O.bQ.3us2XVcy1vsVJKSpUJbpSbsU3azoDwphwC5VPiXrq7Mtlwr1P6XayE; path=/; expires=Tue, 22-Jul-25 02:13:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=thI7iKz7n6ngr19z2K3g9nNvBHcVvLnEmoAulmIGO5g-1753148583016-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f3eb32c5b6188-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_e962542d8ab1d9bb17cf2198b40bd40c',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
 POST /api/chat-langchain 500 in 226ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: Test message functionality
🔍 Handoff result: { shouldHandoff: false }
Memory loaded for session session-1753148581007-flk7l1jf3 (buffer): {
  "history": []
}
[32m[chain/start][39m [[90m[1m1:chain:ConversationChain[22m[39m] Entering Chain run with input: {
  "input": "Test message functionality",
  "history": []
}
[32m[llm/start][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] Entering LLM run with input: {
  "messages": [
    [
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "SystemMessage"
        ],
        "kwargs": {
          "content": "You are a helpful assistant created by Neon.tech and Aceternity. Your job is to answer questions asked by the user in a polite and respectful manner. Always answer in markdown.",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      },
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "HumanMessage"
        ],
        "kwargs": {
          "content": "Test message functionality",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      }
    ]
  ]
}
LLM streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:43:03 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_fdc9e0f77f98884b4286101775725960',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=k9lDdll1uHihQQi7uWJSIKUXtg9K_odRSG45bJKezI8-1753148583-1.0.1.1-MAXMfC0hIn6b2FdSwot3DEerTIf3jsQCxzdWRDIFnXsGy380v4B2LkWv0.SPwkdC0VPv92ZesGw1O60h7kxFtoHc4vJTVF8jm4XGXF7L1dI; path=/; expires=Tue, 22-Jul-25 02:13:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=BGq34iRGoc3gFdZ69JzIE5n6KPbUByUggj9S.MnF20g-1753148583285-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f3eb4ede86188-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_fdc9e0f77f98884b4286101775725960',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
[31m[llm/error][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] [117ms] LLM run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
 ⨯ Error: failed to pipe response
    at pipeToNodeResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/pipe-readable.js:126:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/send-response.js:40:13)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1375:25)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  [cause]: LangChainError: OpenAI API key is invalid or missing
      at handleOpenAIError (webpack-internal:///(rsc)/./lib/langchain-core/error-handler.ts:46:16)
      at Handler.handleLLMError (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:139:130)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:223:51)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:58:23)
      at run (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:157:104)
      at PQueue._tryToStartAnother (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:105:17)
      at eval (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:171:18)
      at new Promise (<anonymous>)
      at PQueue.add (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:152:16)
      at consumeCallback (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:52:20)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:119)
      at Array.map (<anonymous>)
      at CallbackManagerForLLMRun.handleLLMError (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:41)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:297:45)
      at Array.map (<anonymous>)
      at ChatOpenAI._generateUncached (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:268:39)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async ConversationChain._call (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/llm_chain.js:168:37)
      at async ConversationChain.invoke (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/base.js:63:28)
      at async Object.start (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:103:38) {
    code: 'OPENAI_API_KEY_MISSING',
    statusCode: 401,
    details: undefined
  }
}
[31m[chain/error][39m [[90m[1m1:chain:ConversationChain[22m[39m] [117ms] Chain run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
Streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:43:03 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_fdc9e0f77f98884b4286101775725960',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=k9lDdll1uHihQQi7uWJSIKUXtg9K_odRSG45bJKezI8-1753148583-1.0.1.1-MAXMfC0hIn6b2FdSwot3DEerTIf3jsQCxzdWRDIFnXsGy380v4B2LkWv0.SPwkdC0VPv92ZesGw1O60h7kxFtoHc4vJTVF8jm4XGXF7L1dI; path=/; expires=Tue, 22-Jul-25 02:13:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=BGq34iRGoc3gFdZ69JzIE5n6KPbUByUggj9S.MnF20g-1753148583285-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f3eb4ede86188-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_fdc9e0f77f98884b4286101775725960',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
 POST /api/chat-langchain 500 in 261ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: I need urgent human support with billing
🔍 Handoff result: {
  shouldHandoff: true,
  context: {
    aiChatHistory: [ [Object] ],
    userIntent: 'Payment or billing support required',
    urgency: 'high',
    category: 'billing',
    summary: 'User discussed: support, billing. Latest: I need urgent human support with billing...',
    handoffReason: 'User explicitly requested to speak with a human'
  }
}
🎯 HANDOFF TRIGGERED! Returning handoff suggestion to client
 POST /api/chat-langchain 200 in 7ms
 POST /api/support-chat/handoff 200 in 392ms
 GET /support/29?_rsc=plxfd 200 in 76ms
 GET /favicon.ico 200 in 3ms
 GET /api/support-chat/conversations/29 200 in 156ms
 GET /api/support-chat/conversations/29 200 in 218ms
 ✓ Compiled /api/support-chat/messages in 194ms (1964 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 POST /api/support-chat/messages 201 in 461ms
 GET /api/support-chat/conversations/29 200 in 153ms
 ○ Compiling /support ...
 ✓ Compiled /support in 598ms (2987 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /support 200 in 786ms
 GET /favicon.ico 200 in 10ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
 GET /api/support-chat/conversations?unread_only=true 200 in 76ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 82ms
 GET /api/support-chat/conversations?unread_only=true 200 in 46ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 48ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 39ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 38ms
 GET /login 200 in 18ms
 GET /api/auth/session 200 in 5ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 2ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/providers 200 in 5ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 158ms
 GET /api/auth/session 200 in 4ms
 GET /?_rsc=r3yhw 200 in 5ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 229ms
 GET /favicon.ico 200 in 3ms
 ✓ Compiled /admin in 196ms (2997 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /admin 200 in 272ms
 GET /favicon.ico 200 in 12ms
 ✓ Compiled /api/admin/stats in 139ms (2013 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 280ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 4ms
 GET /api/support-chat/conversations?unread_only=true 200 in 112ms
 GET /api/admin/stats 200 in 529ms
 GET /api/admin/stats 200 in 87ms
 ✓ Compiled /admin/support in 361ms (3090 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 ⚠ Fast Refresh had to perform a full reload due to a runtime error.
 GET /favicon.ico 200 in 8ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 499ms
 ✓ Compiled /api/support-chat/admin/conversations in 142ms (2062 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /favicon.ico 200 in 262ms
 GET /api/auth/session 200 in 262ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/session 200 in 3ms
 GET /api/support-chat/conversations?unread_only=true 200 in 325ms
 GET /api/support-chat/conversations?unread_only=true 200 in 32ms
 GET /api/support-chat/admin/conversations? 200 in 403ms
 GET /api/support-chat/admin/conversations? 200 in 104ms
 GET /login 200 in 28ms
 GET /api/auth/session 200 in 7ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 408ms
 GET /api/auth/session 200 in 5ms
 GET /?_rsc=r3yhw 200 in 7ms
 GET /favicon.ico 200 in 7ms
 GET /dashboard?_rsc=1hhhi 200 in 7ms
 GET /favicon.ico 200 in 5ms
 ✓ Compiled /api/features in 200ms (1462 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
Features API error: NeonDbError: relation "user_feature_overrides" does not exist
    at execute (webpack-internal:///(rsc)/./node_modules/@neondatabase/serverless/index.mjs:1570:55)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async GET (webpack-internal:///(rsc)/./app/api/features/route.ts:30:29)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:55759
    at async eO.execute (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46527)
    at async eO.handle (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57093)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1345:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '51',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1449',
  routine: 'parserOpenTable',
  sourceError: undefined
}
 GET /api/features 500 in 300ms
 GET /dashboard 200 in 34ms
 GET /favicon.ico 200 in 4ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 6ms
 GET /favicon.ico 200 in 4ms
 GET /dashboard 200 in 14ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
 ✓ Compiled /apps in 125ms (1470 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /apps?_rsc=1kieo 200 in 8ms
 ✓ Compiled /api/user/apps/available in 148ms (1473 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /favicon.ico 200 in 258ms
 GET /api/user/apps/available 200 in 574ms
 GET /api/user/apps/available 200 in 77ms
 GET /dashboard 200 in 26ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 4ms
 ✓ Compiled /profile in 115ms (1483 modules)
 ✓ Compiled /api/user/activity in 150ms (1485 modules)
 ✓ Compiled (1491 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /favicon.ico 200 in 264ms
 GET /api/user/permissions 200 in 337ms
 GET /api/user/permissions 200 in 39ms
 GET /api/support-chat/conversations?unread_only=true 200 in 110ms
 GET /api/user/activity 200 in 597ms
 GET /api/user/profile 200 in 871ms
 GET /api/user/activity 200 in 306ms
 GET /api/user/profile 200 in 298ms
 GET /chat 200 in 47ms
 GET /favicon.ico 200 in 4ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
 ✓ Compiled /api/chat-langchain in 220ms (2060 modules)
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
🔍 Checking handoff for message: I need urgent human support with billing
🔍 Handoff result: {
  shouldHandoff: true,
  context: {
    aiChatHistory: [ [Object] ],
    userIntent: 'Payment or billing support required',
    urgency: 'high',
    category: 'billing',
    summary: 'User discussed: support, billing. Latest: I need urgent human support with billing...',
    handoffReason: 'User explicitly requested to speak with a human'
  }
}
🎯 HANDOFF TRIGGERED! Returning handoff suggestion to client
 POST /api/chat-langchain 200 in 320ms
 ✓ Compiled /api/support-chat/handoff in 175ms (2052 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 POST /api/support-chat/handoff 200 in 575ms
 GET /support/30?_rsc=dvzfb 200 in 85ms
 ✓ Compiled /api/support-chat/conversations/[id] in 127ms (2054 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /favicon.ico 200 in 244ms
 GET /api/support-chat/conversations/30 200 in 417ms
 GET /api/support-chat/conversations/30 200 in 150ms
 GET /login 200 in 24ms
 GET /api/auth/session 200 in 7ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 2ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 376ms
 GET /api/auth/session 200 in 5ms
 GET /?_rsc=r3yhw 200 in 7ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 8ms
 GET /favicon.ico 200 in 4ms
 GET /chat 200 in 146ms
 GET /favicon.ico 200 in 4ms
 GET /api/auth/session 200 in 6ms
 GET /api/auth/session 200 in 3ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: This is a test message
🔍 Handoff result: { shouldHandoff: false }
Memory loaded for session session-1753148711029-kiiorw54k (buffer): {
  "history": []
}
[32m[chain/start][39m [[90m[1m1:chain:ConversationChain[22m[39m] Entering Chain run with input: {
  "input": "This is a test message",
  "history": []
}
[32m[llm/start][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] Entering LLM run with input: {
  "messages": [
    [
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "SystemMessage"
        ],
        "kwargs": {
          "content": "You are a helpful assistant created by Neon.tech and Aceternity. Your job is to answer questions asked by the user in a polite and respectful manner. Always answer in markdown.",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      },
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "HumanMessage"
        ],
        "kwargs": {
          "content": "This is a test message",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      }
    ]
  ]
}
LLM streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:45:13 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_c695493a137a46023f99538afad92d73',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=XPj9k93a9ecRdn8.yl6b9TpPO1N0_ppdU3FCSYc_p1I-1753148713-1.0.1.1-xr.wBubjr_xAGanc0eXKenJWSbu2tt2o32d9gsWXtcDAEwgMWeCbJP_TZWfMjXnGcXIBdYKnvFhYzQiCyWzK82IRClBkCqWa4bMeHhUpA3Q; path=/; expires=Tue, 22-Jul-25 02:15:13 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=8CxAH1QqEfXjNNd.Ua_Be6RAHGBKm8vx64OqQ4FdO7c-1753148713937-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f41e58afc106c-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_c695493a137a46023f99538afad92d73',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
[31m[llm/error][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] [198ms] LLM run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
 ⨯ Error: failed to pipe response
    at pipeToNodeResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/pipe-readable.js:126:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/send-response.js:40:13)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1375:25)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  [cause]: LangChainError: OpenAI API key is invalid or missing
      at handleOpenAIError (webpack-internal:///(rsc)/./lib/langchain-core/error-handler.ts:46:16)
      at Handler.handleLLMError (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:139:130)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:223:51)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:58:23)
      at run (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:157:104)
      at PQueue._tryToStartAnother (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:105:17)
      at eval (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:171:18)
      at new Promise (<anonymous>)
      at PQueue.add (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:152:16)
      at consumeCallback (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:52:20)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:119)
      at Array.map (<anonymous>)
      at CallbackManagerForLLMRun.handleLLMError (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:41)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:297:45)
      at Array.map (<anonymous>)
      at ChatOpenAI._generateUncached (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:268:39)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async ConversationChain._call (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/llm_chain.js:168:37)
      at async ConversationChain.invoke (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/base.js:63:28)
      at async Object.start (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:103:38) {
    code: 'OPENAI_API_KEY_MISSING',
    statusCode: 401,
    details: undefined
  }
}
[31m[chain/error][39m [[90m[1m1:chain:ConversationChain[22m[39m] [200ms] Chain run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
Streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:45:13 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_c695493a137a46023f99538afad92d73',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=XPj9k93a9ecRdn8.yl6b9TpPO1N0_ppdU3FCSYc_p1I-1753148713-1.0.1.1-xr.wBubjr_xAGanc0eXKenJWSbu2tt2o32d9gsWXtcDAEwgMWeCbJP_TZWfMjXnGcXIBdYKnvFhYzQiCyWzK82IRClBkCqWa4bMeHhUpA3Q; path=/; expires=Tue, 22-Jul-25 02:15:13 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=8CxAH1QqEfXjNNd.Ua_Be6RAHGBKm8vx64OqQ4FdO7c-1753148713937-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f41e58afc106c-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_c695493a137a46023f99538afad92d73',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
 POST /api/chat-langchain 500 in 323ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: This is a test message
🔍 Handoff result: { shouldHandoff: false }
Memory loaded for session session-1753148711029-kiiorw54k (buffer): {
  "history": []
}
[32m[chain/start][39m [[90m[1m1:chain:ConversationChain[22m[39m] Entering Chain run with input: {
  "input": "This is a test message",
  "history": []
}
[32m[llm/start][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] Entering LLM run with input: {
  "messages": [
    [
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "SystemMessage"
        ],
        "kwargs": {
          "content": "You are a helpful assistant created by Neon.tech and Aceternity. Your job is to answer questions asked by the user in a polite and respectful manner. Always answer in markdown.",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      },
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "HumanMessage"
        ],
        "kwargs": {
          "content": "This is a test message",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      }
    ]
  ]
}
LLM streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:45:14 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_23df55a33f2dbe13cb6fac4bb369cd98',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=y4eE.r1U7ah7igwWT8vZAzrjvpVVz_PJmyE4MWndmaE-1753148714-1.0.1.1-Bb_0Kr67V544eYuylHbl5U6VUPblw6w0AYwOmns21MfB8pJVnR0XZ.ikSb7aI8RGDuBGM363HJQv3iLJjeyeZxGx9bGQe6ZxZOOJD4cbCRU; path=/; expires=Tue, 22-Jul-25 02:15:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=wZmXJ0CZ5MvvC13DfhoyFc.wnd6xWQPLPAbMyHG9JiA-1753148714143-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f41e6bcbd106c-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_23df55a33f2dbe13cb6fac4bb369cd98',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
[31m[llm/error][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] [185ms] LLM run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
 ⨯ Error: failed to pipe response
    at pipeToNodeResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/pipe-readable.js:126:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/send-response.js:40:13)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1375:25)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  [cause]: LangChainError: OpenAI API key is invalid or missing
      at handleOpenAIError (webpack-internal:///(rsc)/./lib/langchain-core/error-handler.ts:46:16)
      at Handler.handleLLMError (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:139:130)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:223:51)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:58:23)
      at run (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:157:104)
      at PQueue._tryToStartAnother (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:105:17)
      at eval (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:171:18)
      at new Promise (<anonymous>)
      at PQueue.add (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:152:16)
      at consumeCallback (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:52:20)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:119)
      at Array.map (<anonymous>)
      at CallbackManagerForLLMRun.handleLLMError (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:41)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:297:45)
      at Array.map (<anonymous>)
      at ChatOpenAI._generateUncached (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:268:39)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async ConversationChain._call (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/llm_chain.js:168:37)
      at async ConversationChain.invoke (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/base.js:63:28)
      at async Object.start (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:103:38) {
    code: 'OPENAI_API_KEY_MISSING',
    statusCode: 401,
    details: undefined
  }
}
[31m[chain/error][39m [[90m[1m1:chain:ConversationChain[22m[39m] [187ms] Chain run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
Streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:45:14 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_23df55a33f2dbe13cb6fac4bb369cd98',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=y4eE.r1U7ah7igwWT8vZAzrjvpVVz_PJmyE4MWndmaE-1753148714-1.0.1.1-Bb_0Kr67V544eYuylHbl5U6VUPblw6w0AYwOmns21MfB8pJVnR0XZ.ikSb7aI8RGDuBGM363HJQv3iLJjeyeZxGx9bGQe6ZxZOOJD4cbCRU; path=/; expires=Tue, 22-Jul-25 02:15:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=wZmXJ0CZ5MvvC13DfhoyFc.wnd6xWQPLPAbMyHG9JiA-1753148714143-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f41e6bcbd106c-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_23df55a33f2dbe13cb6fac4bb369cd98',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
 POST /api/chat-langchain 500 in 253ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: This is a test message
🔍 Handoff result: { shouldHandoff: false }
Memory loaded for session session-1753148711029-kiiorw54k (buffer): {
  "history": []
}
[32m[chain/start][39m [[90m[1m1:chain:ConversationChain[22m[39m] Entering Chain run with input: {
  "input": "This is a test message",
  "history": []
}
[32m[llm/start][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] Entering LLM run with input: {
  "messages": [
    [
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "SystemMessage"
        ],
        "kwargs": {
          "content": "You are a helpful assistant created by Neon.tech and Aceternity. Your job is to answer questions asked by the user in a polite and respectful manner. Always answer in markdown.",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      },
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "HumanMessage"
        ],
        "kwargs": {
          "content": "This is a test message",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      }
    ]
  ]
}
LLM streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:45:14 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_89851565505d4fccd996604196f1ddcd',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=4WC3drZFy1qeRlM661jiwkq0W_Q1DopnKRN2T_.0THM-1753148714-1.0.1.1-M1IpX0MuiaSJCppNnh7RJMngC5qIwuqxC4Ldq057COSV0_2iutch02pTSIiWdACQw8AsqK_nJqngMiGiQcVKjGviVu9k_QFYJrH1reMA4lY; path=/; expires=Tue, 22-Jul-25 02:15:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=krl7qBzZSMYKqwZvE7xmUyqX628_QQo9CsYkJt.Q6Iw-1753148714390-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f41e86ebc106c-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_89851565505d4fccd996604196f1ddcd',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
[31m[llm/error][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] [117ms] LLM run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
 ⨯ Error: failed to pipe response
    at pipeToNodeResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/pipe-readable.js:126:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/send-response.js:40:13)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1375:25)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  [cause]: LangChainError: OpenAI API key is invalid or missing
      at handleOpenAIError (webpack-internal:///(rsc)/./lib/langchain-core/error-handler.ts:46:16)
      at Handler.handleLLMError (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:139:130)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:223:51)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:58:23)
      at run (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:157:104)
      at PQueue._tryToStartAnother (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:105:17)
      at eval (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:171:18)
      at new Promise (<anonymous>)
      at PQueue.add (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:152:16)
      at consumeCallback (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:52:20)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:119)
      at Array.map (<anonymous>)
      at CallbackManagerForLLMRun.handleLLMError (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:41)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:297:45)
      at Array.map (<anonymous>)
      at ChatOpenAI._generateUncached (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:268:39)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async ConversationChain._call (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/llm_chain.js:168:37)
      at async ConversationChain.invoke (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/base.js:63:28)
      at async Object.start (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:103:38) {
    code: 'OPENAI_API_KEY_MISSING',
    statusCode: 401,
    details: undefined
  }
}
[31m[chain/error][39m [[90m[1m1:chain:ConversationChain[22m[39m] [118ms] Chain run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
Streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:45:14 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_89851565505d4fccd996604196f1ddcd',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=4WC3drZFy1qeRlM661jiwkq0W_Q1DopnKRN2T_.0THM-1753148714-1.0.1.1-M1IpX0MuiaSJCppNnh7RJMngC5qIwuqxC4Ldq057COSV0_2iutch02pTSIiWdACQw8AsqK_nJqngMiGiQcVKjGviVu9k_QFYJrH1reMA4lY; path=/; expires=Tue, 22-Jul-25 02:15:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=krl7qBzZSMYKqwZvE7xmUyqX628_QQo9CsYkJt.Q6Iw-1753148714390-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f41e86ebc106c-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_89851565505d4fccd996604196f1ddcd',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
 POST /api/chat-langchain 500 in 188ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: This is a test message
🔍 Handoff result: { shouldHandoff: false }
Memory loaded for session session-1753148711029-kiiorw54k (buffer): {
  "history": []
}
[32m[chain/start][39m [[90m[1m1:chain:ConversationChain[22m[39m] Entering Chain run with input: {
  "input": "This is a test message",
  "history": []
}
[32m[llm/start][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] Entering LLM run with input: {
  "messages": [
    [
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "SystemMessage"
        ],
        "kwargs": {
          "content": "You are a helpful assistant created by Neon.tech and Aceternity. Your job is to answer questions asked by the user in a polite and respectful manner. Always answer in markdown.",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      },
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "HumanMessage"
        ],
        "kwargs": {
          "content": "This is a test message",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      }
    ]
  ]
}
LLM streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:45:14 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_f5aa2b9982ffea47b6c08b2c64ccea07',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=AaTVjvMFohyiVHLfG3lWIN9jN_8N0DbnaJcFSHN1qNA-1753148714-1.0.1.1-N5oNh7bGncuKg0nEPNgJDeT3VTmJRrgufi8odq8s3FQlaFWijymtDrhTOIqEyEk9p8b3WsYZEW3vPvKfAe3f_2uQAP4VX6y_mDR3Oycnutw; path=/; expires=Tue, 22-Jul-25 02:15:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=OqwvnwET_q0SdAKwsq644QJ4EAEFL86bq9JkI53NvO0-1753148714592-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f41e9a845106c-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_f5aa2b9982ffea47b6c08b2c64ccea07',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
[31m[llm/error][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] [121ms] LLM run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
 ⨯ Error: failed to pipe response
    at pipeToNodeResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/pipe-readable.js:126:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/send-response.js:40:13)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1375:25)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  [cause]: LangChainError: OpenAI API key is invalid or missing
      at handleOpenAIError (webpack-internal:///(rsc)/./lib/langchain-core/error-handler.ts:46:16)
      at Handler.handleLLMError (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:139:130)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:223:51)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:58:23)
      at run (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:157:104)
      at PQueue._tryToStartAnother (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:105:17)
      at eval (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:171:18)
      at new Promise (<anonymous>)
      at PQueue.add (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:152:16)
      at consumeCallback (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:52:20)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:119)
      at Array.map (<anonymous>)
      at CallbackManagerForLLMRun.handleLLMError (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:41)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:297:45)
      at Array.map (<anonymous>)
      at ChatOpenAI._generateUncached (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:268:39)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async ConversationChain._call (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/llm_chain.js:168:37)
      at async ConversationChain.invoke (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/base.js:63:28)
      at async Object.start (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:103:38) {
    code: 'OPENAI_API_KEY_MISSING',
    statusCode: 401,
    details: undefined
  }
}
[31m[chain/error][39m [[90m[1m1:chain:ConversationChain[22m[39m] [121ms] Chain run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
Streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:45:14 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_f5aa2b9982ffea47b6c08b2c64ccea07',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=AaTVjvMFohyiVHLfG3lWIN9jN_8N0DbnaJcFSHN1qNA-1753148714-1.0.1.1-N5oNh7bGncuKg0nEPNgJDeT3VTmJRrgufi8odq8s3FQlaFWijymtDrhTOIqEyEk9p8b3WsYZEW3vPvKfAe3f_2uQAP4VX6y_mDR3Oycnutw; path=/; expires=Tue, 22-Jul-25 02:15:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=OqwvnwET_q0SdAKwsq644QJ4EAEFL86bq9JkI53NvO0-1753148714592-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f41e9a845106c-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_f5aa2b9982ffea47b6c08b2c64ccea07',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
 POST /api/chat-langchain 500 in 201ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: This is a test message
🔍 Handoff result: { shouldHandoff: false }
Memory loaded for session session-1753148711029-kiiorw54k (buffer): {
  "history": []
}
[32m[chain/start][39m [[90m[1m1:chain:ConversationChain[22m[39m] Entering Chain run with input: {
  "input": "This is a test message",
  "history": []
}
[32m[llm/start][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] Entering LLM run with input: {
  "messages": [
    [
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "SystemMessage"
        ],
        "kwargs": {
          "content": "You are a helpful assistant created by Neon.tech and Aceternity. Your job is to answer questions asked by the user in a polite and respectful manner. Always answer in markdown.",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      },
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "HumanMessage"
        ],
        "kwargs": {
          "content": "This is a test message",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      }
    ]
  ]
}
LLM streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:45:14 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_46f2bfe31015a51f7ab2236fa262fa7d',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=ZsrqifpfpNPxSgsWhZvrp8n0ubF7iHnXEmJTbmx1lgA-1753148714-1.0.1.1-xA9TwvFPNXIvYkmv5cUSf75MWLeu7kbE6lGFLpletaGsIuT8SRjjnZLDePYyJT9eycxoCTv9ClHRLb23FpONz1rLeA6z39uLNpnY76A8AQE; path=/; expires=Tue, 22-Jul-25 02:15:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=HIztvRzOj2g8BkVDYDlqCpBxTIPmbT8DVMMjuNiUF.Q-1753148714889-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f41eb6a9b106c-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_46f2bfe31015a51f7ab2236fa262fa7d',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
[31m[llm/error][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] [130ms] LLM run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
 ⨯ Error: failed to pipe response
    at pipeToNodeResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/pipe-readable.js:126:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/send-response.js:40:13)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1375:25)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  [cause]: LangChainError: OpenAI API key is invalid or missing
      at handleOpenAIError (webpack-internal:///(rsc)/./lib/langchain-core/error-handler.ts:46:16)
      at Handler.handleLLMError (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:139:130)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:223:51)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:58:23)
      at run (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:157:104)
      at PQueue._tryToStartAnother (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:105:17)
      at eval (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:171:18)
      at new Promise (<anonymous>)
      at PQueue.add (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:152:16)
      at consumeCallback (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:52:20)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:119)
      at Array.map (<anonymous>)
      at CallbackManagerForLLMRun.handleLLMError (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:41)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:297:45)
      at Array.map (<anonymous>)
      at ChatOpenAI._generateUncached (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:268:39)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async ConversationChain._call (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/llm_chain.js:168:37)
      at async ConversationChain.invoke (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/base.js:63:28)
      at async Object.start (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:103:38) {
    code: 'OPENAI_API_KEY_MISSING',
    statusCode: 401,
    details: undefined
  }
}
[31m[chain/error][39m [[90m[1m1:chain:ConversationChain[22m[39m] [132ms] Chain run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
Streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:45:14 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_46f2bfe31015a51f7ab2236fa262fa7d',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=ZsrqifpfpNPxSgsWhZvrp8n0ubF7iHnXEmJTbmx1lgA-1753148714-1.0.1.1-xA9TwvFPNXIvYkmv5cUSf75MWLeu7kbE6lGFLpletaGsIuT8SRjjnZLDePYyJT9eycxoCTv9ClHRLb23FpONz1rLeA6z39uLNpnY76A8AQE; path=/; expires=Tue, 22-Jul-25 02:15:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=HIztvRzOj2g8BkVDYDlqCpBxTIPmbT8DVMMjuNiUF.Q-1753148714889-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f41eb6a9b106c-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_46f2bfe31015a51f7ab2236fa262fa7d',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
 POST /api/chat-langchain 500 in 294ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: This is a test message
🔍 Handoff result: { shouldHandoff: false }
Memory loaded for session session-1753148711029-kiiorw54k (buffer): {
  "history": []
}
[32m[chain/start][39m [[90m[1m1:chain:ConversationChain[22m[39m] Entering Chain run with input: {
  "input": "This is a test message",
  "history": []
}
[32m[llm/start][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] Entering LLM run with input: {
  "messages": [
    [
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "SystemMessage"
        ],
        "kwargs": {
          "content": "You are a helpful assistant created by Neon.tech and Aceternity. Your job is to answer questions asked by the user in a polite and respectful manner. Always answer in markdown.",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      },
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "HumanMessage"
        ],
        "kwargs": {
          "content": "This is a test message",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      }
    ]
  ]
}
LLM streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:45:15 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_2ccb1026b831715f6d677932fbf32b2b',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=uEBP0vZ8GqjA2TX1Jg8HI6qfW2gGq2q7EkcxqAQJ2ws-1753148715-1.0.1.1-vptswiVoOuXo9e_BCuH4B6PCWX3GdcMQsJSun7Fapq5bto7bvmWAcGMUMFbqafrQsUea5o.hSbvBGNXVzJsnh_VrldBp3zrn3BX5P8wgmqA; path=/; expires=Tue, 22-Jul-25 02:15:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=MR3mpy4E6RIqpSAs6ymrxzMDA6cATckYPVSrJQLRk9s-1753148715097-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f41eccc2d106c-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_2ccb1026b831715f6d677932fbf32b2b',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
[31m[llm/error][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] [124ms] LLM run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
 ⨯ Error: failed to pipe response
    at pipeToNodeResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/pipe-readable.js:126:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/send-response.js:40:13)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1375:25)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  [cause]: LangChainError: OpenAI API key is invalid or missing
      at handleOpenAIError (webpack-internal:///(rsc)/./lib/langchain-core/error-handler.ts:46:16)
      at Handler.handleLLMError (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:139:130)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:223:51)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:58:23)
      at run (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:157:104)
      at PQueue._tryToStartAnother (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:105:17)
      at eval (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:171:18)
      at new Promise (<anonymous>)
      at PQueue.add (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:152:16)
      at consumeCallback (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:52:20)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:119)
      at Array.map (<anonymous>)
      at CallbackManagerForLLMRun.handleLLMError (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:41)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:297:45)
      at Array.map (<anonymous>)
      at ChatOpenAI._generateUncached (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:268:39)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async ConversationChain._call (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/llm_chain.js:168:37)
      at async ConversationChain.invoke (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/base.js:63:28)
      at async Object.start (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:103:38) {
    code: 'OPENAI_API_KEY_MISSING',
    statusCode: 401,
    details: undefined
  }
}
[31m[chain/error][39m [[90m[1m1:chain:ConversationChain[22m[39m] [125ms] Chain run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
Streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:45:15 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_2ccb1026b831715f6d677932fbf32b2b',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=uEBP0vZ8GqjA2TX1Jg8HI6qfW2gGq2q7EkcxqAQJ2ws-1753148715-1.0.1.1-vptswiVoOuXo9e_BCuH4B6PCWX3GdcMQsJSun7Fapq5bto7bvmWAcGMUMFbqafrQsUea5o.hSbvBGNXVzJsnh_VrldBp3zrn3BX5P8wgmqA; path=/; expires=Tue, 22-Jul-25 02:15:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=MR3mpy4E6RIqpSAs6ymrxzMDA6cATckYPVSrJQLRk9s-1753148715097-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f41eccc2d106c-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_2ccb1026b831715f6d677932fbf32b2b',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
 POST /api/chat-langchain 500 in 200ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: This is a test message
🔍 Handoff result: { shouldHandoff: false }
Memory loaded for session session-1753148711029-kiiorw54k (buffer): {
  "history": []
}
[32m[chain/start][39m [[90m[1m1:chain:ConversationChain[22m[39m] Entering Chain run with input: {
  "input": "This is a test message",
  "history": []
}
[32m[llm/start][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] Entering LLM run with input: {
  "messages": [
    [
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "SystemMessage"
        ],
        "kwargs": {
          "content": "You are a helpful assistant created by Neon.tech and Aceternity. Your job is to answer questions asked by the user in a polite and respectful manner. Always answer in markdown.",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      },
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "HumanMessage"
        ],
        "kwargs": {
          "content": "This is a test message",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      }
    ]
  ]
}
LLM streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:45:15 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_84e80a78c8306a74579e4699c27f8b40',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=k5THNmeP39cC9fmFmhow_gOOVFIqVenkfqJKrVh_J7U-1753148715-1.0.1.1-SdnevAFRDu_BwI65VyQY.j6GpYvl14j2CgHo10niCM24Mq0eRW2dRpZhEr3yaVpZQbNGHNWI_o0mucb_iB3XCQFKz3YM4iQhJQSxNIkXPfM; path=/; expires=Tue, 22-Jul-25 02:15:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=d.Y69Iu4WnQ3vhw_5NdRi54gvcM59.HWgmyIKKLRVCs-1753148715349-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f41ee7e14106c-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_84e80a78c8306a74579e4699c27f8b40',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
[31m[llm/error][39m [[90m1:chain:ConversationChain > [1m2:llm:ChatOpenAI[22m[39m] [101ms] LLM run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
 ⨯ Error: failed to pipe response
    at pipeToNodeResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/pipe-readable.js:126:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async sendResponse (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/send-response.js:40:13)
    at async doRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1375:25)
    at async cacheEntry.responseCache.get.routeKind (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1567:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1475:28)
    at async DevServer.renderPageComponent (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1901:24)
    at async DevServer.renderToResponseImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:1939:32)
    at async DevServer.pipeImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:914:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/base-server.js:810:17)
    at async /Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:173:21)
    at async handleRequest (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:350:24)
    at async requestHandlerImpl (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/router-server.js:374:13)
    at async Server.requestListener (/Users/zachwieder/Documents/CODING MAIN/chat-test/node_modules/next/dist/server/lib/start-server.js:141:13) {
  [cause]: LangChainError: OpenAI API key is invalid or missing
      at handleOpenAIError (webpack-internal:///(rsc)/./lib/langchain-core/error-handler.ts:46:16)
      at Handler.handleLLMError (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:139:130)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:223:51)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:58:23)
      at run (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:157:104)
      at PQueue._tryToStartAnother (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:105:17)
      at eval (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:171:18)
      at new Promise (<anonymous>)
      at PQueue.add (webpack-internal:///(rsc)/./node_modules/p-queue/dist/index.js:152:16)
      at consumeCallback (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/singletons/callbacks.js:52:20)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:119)
      at Array.map (<anonymous>)
      at CallbackManagerForLLMRun.handleLLMError (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/callbacks/manager.js:220:41)
      at eval (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:297:45)
      at Array.map (<anonymous>)
      at ChatOpenAI._generateUncached (webpack-internal:///(rsc)/./node_modules/@langchain/core/dist/language_models/chat_models.js:268:39)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async ConversationChain._call (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/llm_chain.js:168:37)
      at async ConversationChain.invoke (webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/base.js:63:28)
      at async Object.start (webpack-internal:///(rsc)/./features/chat/api/chat-langchain/route.ts:103:38) {
    code: 'OPENAI_API_KEY_MISSING',
    statusCode: 401,
    details: undefined
  }
}
[31m[chain/error][39m [[90m[1m1:chain:ConversationChain[22m[39m] [102ms] Chain run errored with error: "401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n\nError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.\n\nTroubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/\n\n    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)\n    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)\n    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)\n    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12)"
Streaming error: AuthenticationError: 401 Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/MODEL_AUTHENTICATION/

    at APIError.generate (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/core/error.mjs:64:20)
    at OpenAI.makeStatusError (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:196:71)
    at OpenAI.makeRequest (webpack-internal:///(rsc)/./node_modules/@langchain/openai/node_modules/openai/client.mjs:341:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async eval (webpack-internal:///(rsc)/./node_modules/@langchain/openai/dist/chat_models.js:1941:28)
    at async RetryOperation.eval [as _fn] (webpack-internal:///(rsc)/./node_modules/p-retry/index.js:50:12) {
  status: 401,
  headers: Headers {
    date: 'Tue, 22 Jul 2025 01:45:15 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '262',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_84e80a78c8306a74579e4699c27f8b40',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=k5THNmeP39cC9fmFmhow_gOOVFIqVenkfqJKrVh_J7U-1753148715-1.0.1.1-SdnevAFRDu_BwI65VyQY.j6GpYvl14j2CgHo10niCM24Mq0eRW2dRpZhEr3yaVpZQbNGHNWI_o0mucb_iB3XCQFKz3YM4iQhJQSxNIkXPfM; path=/; expires=Tue, 22-Jul-25 02:15:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=d.Y69Iu4WnQ3vhw_5NdRi54gvcM59.HWgmyIKKLRVCs-1753148715349-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '962f41ee7e14106c-ORD',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_84e80a78c8306a74579e4699c27f8b40',
  error: {
    message: 'Incorrect API key provided: sk-dummy-key. You can find your API key at https://platform.openai.com/account/api-keys.',
    type: 'invalid_request_error',
    param: null,
    code: 'invalid_api_key'
  },
  code: 'invalid_api_key',
  param: null,
  type: 'invalid_request_error',
  lc_error_code: 'MODEL_AUTHENTICATION',
  attemptNumber: 1,
  retriesLeft: 6
}
 POST /api/chat-langchain 500 in 243ms
 GET /api/support-chat/conversations?unread_only=true 200 in 133ms
 GET /login 200 in 12ms
 GET /api/auth/session 200 in 9ms
 GET /favicon.ico 200 in 9ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 5ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 461ms
 GET /api/auth/session 200 in 5ms
 GET /?_rsc=r3yhw 200 in 6ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 6ms
 GET /favicon.ico 200 in 4ms
 GET /chat 200 in 16ms
 GET /favicon.ico 200 in 3ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: Test message for debugging
🔍 Handoff result: {
  shouldHandoff: true,
  context: {
    aiChatHistory: [ [Object] ],
    userIntent: 'Technical issue reported',
    urgency: 'normal',
    category: 'bug',
    summary: 'User discussed: general questions. Latest: Test message for debugging...',
    handoffReason: 'User explicitly requested to speak with a human'
  }
}
🎯 HANDOFF TRIGGERED! Returning handoff suggestion to client
 POST /api/chat-langchain 200 in 7ms
 GET /api/support-chat/conversations?unread_only=true 200 in 125ms
 GET /api/support-chat/conversations?unread_only=true 200 in 318ms
 ✓ Compiled in 501ms (2440 modules)
 ✓ Compiled /api/auth/[...nextauth] in 94ms (1398 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 145ms
 GET /api/support-chat/conversations?unread_only=true 200 in 164ms
 ✓ Compiled in 302ms (2444 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/support-chat/conversations?unread_only=true 200 in 135ms
 GET /api/support-chat/conversations?unread_only=true 200 in 112ms
 GET /api/support-chat/conversations?unread_only=true 200 in 211ms
 ✓ Compiled /login in 147ms (1403 modules)
 GET /login 200 in 210ms
 ✓ Compiled /favicon.ico in 85ms (1405 modules)
 ✓ Compiled (1433 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 385ms
 GET /favicon.ico 200 in 388ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 300ms
 GET /api/auth/session 200 in 6ms
 ✓ Compiled / in 195ms (1438 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /?_rsc=r3yhw 200 in 28ms
 GET /favicon.ico 200 in 9ms
 GET /dashboard?_rsc=1hhhi 200 in 12ms
 GET /favicon.ico 200 in 4ms
 GET /favicon.ico 200 in 3ms
 GET /dashboard 200 in 45ms
 GET /favicon.ico 200 in 8ms
 GET /api/auth/session 200 in 10ms
 GET /api/auth/session 200 in 7ms
 ✓ Compiled /apps in 312ms (1449 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /apps?_rsc=1kieo 200 in 40ms
 ✓ Compiled /api/user/apps/available in 127ms (1452 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /favicon.ico 200 in 214ms
 GET /api/user/apps/available 200 in 543ms
 GET /api/user/apps/available 200 in 76ms
 GET /dashboard 200 in 51ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 8ms
 GET /api/auth/session 200 in 4ms
 ✓ Compiled /profile in 99ms (1466 modules)
 ✓ Compiled /api/user/profile in 100ms (1474 modules)
 ✓ Compiled (1479 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /favicon.ico 200 in 311ms
 GET /api/user/permissions 200 in 361ms
 GET /api/user/permissions 200 in 47ms
 GET /api/user/activity 200 in 698ms
 GET /api/user/profile 200 in 885ms
 GET /api/user/activity 200 in 216ms
 GET /api/user/profile 200 in 330ms
 GET /chat 200 in 60ms
 GET /favicon.ico 200 in 4ms
 GET /api/auth/session 200 in 7ms
 GET /api/auth/session 200 in 10ms
 GET /api/support-chat/conversations?unread_only=true 200 in 48ms
 ✓ Compiled /api/chat-langchain in 202ms (2048 modules)
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
🔍 Checking handoff for message: I need urgent human support with billing
🔍 Handoff result: {
  shouldHandoff: true,
  context: {
    aiChatHistory: [ [Object] ],
    userIntent: 'Payment or billing support required',
    urgency: 'high',
    category: 'billing',
    summary: 'User discussed: support, billing. Latest: I need urgent human support with billing...',
    handoffReason: 'User explicitly requested to speak with a human'
  }
}
🎯 HANDOFF TRIGGERED! Returning handoff suggestion to client
 POST /api/chat-langchain 200 in 320ms
 ✓ Compiled /api/support-chat/handoff in 138ms (2051 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 POST /api/support-chat/handoff 200 in 520ms
 GET /support/31?_rsc=19yev 200 in 90ms
 ✓ Compiled /api/support-chat/conversations/[id] in 157ms (2053 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /favicon.ico 200 in 445ms
 GET /api/support-chat/conversations/31 200 in 628ms
 GET /api/support-chat/conversations/31 200 in 226ms
 ✓ Compiled /api/support-chat/messages in 225ms (2055 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 POST /api/support-chat/messages 201 in 390ms
 GET /api/support-chat/conversations/31 200 in 236ms
 GET /support 200 in 188ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
 GET /api/support-chat/conversations?unread_only=true 200 in 68ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 78ms
 GET /api/support-chat/conversations?unread_only=true 200 in 46ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 38ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 122ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 44ms
 GET /login 200 in 17ms
 GET /api/auth/session 200 in 7ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 4ms
 POST /api/auth/callback/credentials 200 in 154ms
 GET /api/auth/session 200 in 6ms
 GET /?_rsc=r3yhw 200 in 9ms
 GET /favicon.ico 200 in 6ms
 GET /dashboard?_rsc=1hhhi 200 in 8ms
 GET /favicon.ico 200 in 8ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 108ms
 GET /api/support-chat/conversations?unread_only=true 200 in 50ms
 ✓ Compiled /api/support-chat/admin/conversations in 163ms (2057 modules)
 GET /favicon.ico 200 in 347ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 326ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 4ms
 GET /api/support-chat/conversations?unread_only=true 200 in 349ms
 GET /api/support-chat/admin/conversations? 200 in 488ms
 GET /api/support-chat/admin/conversations? 200 in 100ms
 GET /support 200 in 94ms
 GET /favicon.ico 200 in 8ms
 GET /api/auth/session 200 in 9ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 39ms
 GET /api/auth/session 200 in 6ms
 GET /api/support-chat/conversations?unread_only=true 200 in 49ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 39ms
 GET /api/support-chat/conversations?unread_only=true 200 in 35ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 37ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 39ms
 GET /api/support-chat/conversations?unread_only=true 200 in 114ms
 GET /api/support-chat/conversations?unread_only=true 200 in 193ms
 GET /api/support-chat/conversations?unread_only=true 200 in 168ms
 GET /login 200 in 21ms
 GET /api/auth/session 200 in 6ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 299ms
 GET /api/auth/session 200 in 4ms
 GET /?_rsc=r3yhw 200 in 7ms
 GET /favicon.ico 200 in 6ms
 GET /dashboard?_rsc=1hhhi 200 in 7ms
 GET /favicon.ico 200 in 4ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 93ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 5ms
 GET /api/support-chat/conversations?unread_only=true 200 in 39ms
 GET /api/auth/session 200 in 3ms
 GET /api/support-chat/conversations?unread_only=true 200 in 40ms
 GET /api/support-chat/admin/conversations? 200 in 263ms
 GET /api/support-chat/admin/conversations? 200 in 100ms
 GET /api/support-chat/conversations?unread_only=true 200 in 155ms
 ✓ Compiled in 462ms (2471 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/support-chat/conversations?unread_only=true 200 in 167ms
 ✓ Compiled in 165ms (2428 modules)
 ✓ Compiled /login in 91ms (1403 modules)
 GET /login 200 in 155ms
 ✓ Compiled /favicon.ico in 90ms (1405 modules)
 ✓ Compiled (1433 modules)
 GET /favicon.ico 200 in 204ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 228ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 2ms
 POST /api/auth/callback/credentials 200 in 362ms
 GET /api/auth/session 200 in 6ms
 ✓ Compiled / in 285ms (1438 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /?_rsc=r3yhw 200 in 12ms
 GET /favicon.ico 200 in 8ms
 GET /dashboard?_rsc=1hhhi 200 in 12ms
 GET /favicon.ico 200 in 3ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 169ms
 GET /favicon.ico 200 in 6ms
 ✓ Compiled /api/support-chat/admin/conversations in 155ms (1440 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 215ms
 GET /api/auth/session 200 in 3ms
 GET /api/support-chat/conversations?unread_only=true 200 in 293ms
 GET /api/support-chat/conversations?unread_only=true 200 in 36ms
 GET /api/support-chat/admin/conversations? 200 in 369ms
 GET /api/support-chat/admin/conversations? 200 in 196ms
 GET /api/support-chat/conversations?unread_only=true 200 in 39ms
 GET /api/support-chat/conversations?unread_only=true 200 in 117ms
 GET /api/support-chat/conversations?unread_only=true 200 in 299ms
 GET /api/support-chat/conversations?unread_only=true 200 in 166ms
 GET /login 200 in 46ms
 GET /api/auth/session 200 in 7ms
 GET /favicon.ico 200 in 11ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 365ms
 GET /api/auth/session 200 in 5ms
 GET /?_rsc=r3yhw 200 in 8ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 10ms
 GET /favicon.ico 200 in 4ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 147ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/session 200 in 4ms
 GET /api/support-chat/conversations?unread_only=true 200 in 40ms
 GET /api/support-chat/conversations?unread_only=true 200 in 45ms
 GET /api/support-chat/admin/conversations? 200 in 182ms
 GET /api/support-chat/admin/conversations? 200 in 106ms
 GET /api/support-chat/conversations?unread_only=true 200 in 217ms
 GET /api/support-chat/conversations?unread_only=true 200 in 125ms
 GET /api/support-chat/conversations?unread_only=true 200 in 114ms
 GET /api/support-chat/conversations?unread_only=true 200 in 279ms
 GET /login 200 in 14ms
 GET /api/auth/session 200 in 6ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 365ms
 GET /api/auth/session 200 in 5ms
 GET /?_rsc=r3yhw 200 in 7ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 6ms
 GET /favicon.ico 200 in 5ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 89ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 3ms
 GET /api/support-chat/conversations?unread_only=true 200 in 42ms
 GET /api/support-chat/conversations?unread_only=true 200 in 46ms
 GET /api/support-chat/admin/conversations? 200 in 186ms
 GET /api/support-chat/admin/conversations? 200 in 99ms
 GET /support 200 in 234ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 6ms
 GET /api/auth/session 200 in 3ms
 GET /api/support-chat/conversations?unread_only=true 200 in 51ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 51ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 38ms
 GET /api/support-chat/conversations?unread_only=true 200 in 55ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 36ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 33ms
 GET /api/support-chat/conversations?unread_only=true 200 in 151ms
 ✓ Compiled in 374ms (2483 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/support-chat/conversations?unread_only=true 200 in 151ms
 ✓ Compiled in 182ms (2477 modules)
 ✓ Compiled /analytics in 465ms (2467 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /analytics?_rsc=m8bbs 200 in 32ms
 GET /api/support-chat/conversations?unread_only=true 200 in 174ms
 GET /api/support-chat/conversations?unread_only=true 200 in 48ms
 GET /api/support-chat/admin/conversations? 200 in 296ms
 GET /api/support-chat/admin/conversations? 200 in 98ms
 ✓ Compiled /login in 98ms (1407 modules)
 GET /login 200 in 156ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/support-chat/conversations?unread_only=true 200 in 136ms
 ✓ Compiled /api/auth/[...nextauth] in 153ms (1435 modules)
 ✓ Compiled (1437 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 287ms
 GET /favicon.ico 200 in 290ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 7ms
 GET /api/auth/csrf 200 in 7ms
 POST /api/auth/callback/credentials 200 in 233ms
 GET /api/auth/session 200 in 3ms
 ✓ Compiled / in 85ms (1442 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /?_rsc=r3yhw 200 in 15ms
 GET /favicon.ico 200 in 8ms
 GET /dashboard?_rsc=1hhhi 200 in 14ms
 GET /favicon.ico 200 in 4ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 166ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
 GET /api/support-chat/conversations?unread_only=true 200 in 121ms
 GET /api/support-chat/conversations?unread_only=true 200 in 42ms
 GET /api/support-chat/admin/conversations? 200 in 250ms
 GET /api/support-chat/admin/conversations? 200 in 104ms
 GET /api/support-chat/conversations?unread_only=true 200 in 109ms
 GET /api/support-chat/conversations?unread_only=true 200 in 129ms
 GET /login 200 in 23ms
 GET /api/auth/session 200 in 5ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 398ms
 GET /api/auth/session 200 in 4ms
 GET /?_rsc=r3yhw 200 in 6ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 8ms
 GET /favicon.ico 200 in 4ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 88ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 3ms
 GET /api/support-chat/conversations?unread_only=true 200 in 39ms
 GET /api/support-chat/conversations?unread_only=true 200 in 41ms
 GET /api/support-chat/admin/conversations? 200 in 184ms
 GET /api/support-chat/admin/conversations? 200 in 120ms
 ✓ Compiled /_not-found in 419ms (2473 modules)
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 474ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/support-chat/conversations?unread_only=true 200 in 456ms
 GET /api/support-chat/conversations?unread_only=true 200 in 112ms
 GET /api/support-chat/conversations?unread_only=true 200 in 116ms
 GET /login 200 in 21ms
 GET /api/auth/session 200 in 8ms
 GET /favicon.ico 200 in 12ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/providers 200 in 5ms
 GET /api/auth/csrf 200 in 4ms
 POST /api/auth/callback/credentials 200 in 365ms
 GET /api/auth/session 200 in 5ms
 GET /?_rsc=r3yhw 200 in 8ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 10ms
 GET /favicon.ico 200 in 4ms
 GET /api/support-chat/conversations?unread_only=true 200 in 49ms
 GET /dashboard 200 in 31ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 4ms
 GET /api/support-chat/conversations?unread_only=true 200 in 370ms
 GET /login 200 in 14ms
 GET /api/auth/session 200 in 6ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/providers 200 in 5ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 445ms
 GET /api/auth/session 200 in 4ms
 GET /?_rsc=r3yhw 200 in 7ms
 GET /favicon.ico 200 in 6ms
 GET /dashboard?_rsc=1hhhi 200 in 7ms
 GET /favicon.ico 200 in 4ms
 GET /dashboard 200 in 15ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 6ms
 GET /api/auth/session 200 in 3ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 375ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 6ms
 GET /api/auth/session 200 in 2ms
 GET /api/support-chat/conversations?unread_only=true 200 in 106ms
 GET /api/support-chat/conversations?unread_only=true 200 in 42ms
 GET /api/support-chat/admin/conversations? 200 in 247ms
 GET /api/support-chat/admin/conversations? 200 in 100ms
 GET /api/auth/session 200 in 4ms
 GET /api/support-chat/conversations?unread_only=true 200 in 181ms
 GET /api/support-chat/conversations?unread_only=true 200 in 169ms
 GET /login 200 in 13ms
 GET /api/auth/session 200 in 6ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 4ms
 POST /api/auth/callback/credentials 200 in 406ms
 GET /api/auth/session 200 in 5ms
 GET /?_rsc=r3yhw 200 in 7ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 6ms
 GET /favicon.ico 200 in 3ms
 GET /api/support-chat/conversations?unread_only=true 200 in 42ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 153ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/session 200 in 4ms
 GET /api/support-chat/conversations?unread_only=true 200 in 40ms
 GET /api/support-chat/conversations?unread_only=true 200 in 47ms
 GET /api/support-chat/admin/conversations? 200 in 256ms
 GET /api/support-chat/admin/conversations? 200 in 103ms
 GET /support/conversations/1 404 in 10ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 8ms
 GET /api/auth/session 200 in 3ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 240ms
 GET /favicon.ico 200 in 8ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 3ms
 GET /api/support-chat/conversations?unread_only=true 200 in 48ms
 GET /api/support-chat/conversations?unread_only=true 200 in 39ms
 GET /api/support-chat/admin/conversations? 200 in 175ms
 GET /api/support-chat/admin/conversations? 200 in 103ms
 GET /api/support-chat/conversations?unread_only=true 200 in 123ms
 GET /api/support-chat/conversations?unread_only=true 200 in 119ms
 ✓ Compiled in 358ms (2427 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/support-chat/conversations?unread_only=true 200 in 229ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 302ms
 ✓ Compiled /api/auth/[...nextauth] in 114ms (1398 modules)
 ✓ Compiled (1400 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 216ms
 GET /api/auth/session 200 in 4ms
 GET /api/support-chat/conversations?unread_only=true 200 in 258ms
 GET /api/support-chat/conversations?unread_only=true 200 in 121ms
 GET /api/support-chat/admin/conversations? 200 in 389ms
 GET /api/support-chat/admin/conversations? 200 in 75ms
 ✓ Compiled in 137ms (2431 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/support-chat/conversations?unread_only=true 200 in 122ms
 ✓ Compiled /login in 278ms (1406 modules)
 GET /login 200 in 322ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 11ms
 ✓ Compiled /favicon.ico in 172ms (1434 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 261ms
 GET /favicon.ico 200 in 294ms
 GET /api/auth/providers 200 in 3ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 394ms
 GET /api/auth/session 200 in 4ms
 ✓ Compiled / in 144ms (1439 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /?_rsc=r3yhw 200 in 13ms
 GET /favicon.ico 200 in 9ms
 GET /dashboard?_rsc=1hhhi 200 in 11ms
 GET /favicon.ico 200 in 3ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 163ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 6ms
 GET /api/support-chat/conversations?unread_only=true 200 in 77ms
 GET /api/support-chat/conversations?unread_only=true 200 in 39ms
 GET /api/support-chat/admin/conversations? 200 in 195ms
 GET /api/support-chat/admin/conversations? 200 in 106ms
 GET /api/support-chat/conversations?unread_only=true 200 in 113ms
 GET /support/1 200 in 241ms
 ✓ Compiled /api/support-chat/conversations/[id] in 183ms (1441 modules)
 GET /favicon.ico 200 in 259ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 252ms
 GET /api/auth/session 200 in 3ms
 GET /api/support-chat/conversations/1 404 in 330ms
 GET /api/support-chat/conversations/1 404 in 40ms
 GET /api/support-chat/conversations?unread_only=true 200 in 176ms
 GET /login 200 in 37ms
 GET /api/support-chat/conversations?unread_only=true 200 in 120ms
 GET /api/auth/session 200 in 5ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 263ms
 GET /api/auth/session 200 in 3ms
 GET /?_rsc=r3yhw 200 in 7ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 6ms
 GET /favicon.ico 200 in 5ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 280ms
 GET /favicon.ico 200 in 5ms
 GET /api/support-chat/conversations?unread_only=true 200 in 32ms
 GET /api/auth/session 200 in 6ms
 GET /api/auth/session 200 in 5ms
 GET /api/support-chat/conversations?unread_only=true 200 in 41ms
 GET /api/support-chat/admin/conversations? 200 in 106ms
 GET /api/support-chat/admin/conversations? 200 in 92ms
 GET /support/1 200 in 225ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 5ms
 GET /api/support-chat/conversations/1 404 in 36ms
 GET /api/auth/session 200 in 7ms
 GET /api/support-chat/conversations/1 404 in 44ms
 GET /support/1 200 in 151ms
 GET /favicon.ico 200 in 4ms
 GET /api/support-chat/conversations/1 404 in 32ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 6ms
 GET /api/support-chat/conversations/1 404 in 38ms
 GET /api/support-chat/conversations?unread_only=true 200 in 116ms
 GET /api/support-chat/conversations?unread_only=true 200 in 205ms
 ✓ Compiled in 291ms (2427 modules)
 ✓ Compiled /login in 79ms (1402 modules)
 GET /login 200 in 132ms
 ✓ Compiled /favicon.ico in 81ms (1404 modules)
 ✓ Compiled (1432 modules)
 GET /favicon.ico 200 in 189ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 197ms
 GET /api/auth/session 200 in 6ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 2ms
 POST /api/auth/callback/credentials 200 in 469ms
 GET /api/auth/session 200 in 5ms
 ✓ Compiled / in 283ms (1437 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /?_rsc=r3yhw 200 in 15ms
 GET /favicon.ico 200 in 8ms
 GET /dashboard?_rsc=1hhhi 200 in 12ms
 GET /favicon.ico 200 in 4ms
 GET /api/support-chat/conversations?unread_only=true 200 in 83ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 127ms
 ✓ Compiled /api/support-chat/admin/conversations in 196ms (1439 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /favicon.ico 200 in 301ms
 GET /api/auth/session 200 in 278ms
 GET /api/auth/session 200 in 4ms
 GET /api/support-chat/conversations?unread_only=true 200 in 364ms
 GET /api/support-chat/conversations?unread_only=true 200 in 126ms
 GET /api/support-chat/admin/conversations? 200 in 570ms
 GET /api/support-chat/admin/conversations? 200 in 101ms
 GET /support/31 200 in 244ms
 ✓ Compiled /api/support-chat/conversations/[id] in 145ms (1441 modules)
 GET /favicon.ico 200 in 209ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 204ms
 GET /api/auth/session 200 in 4ms
 GET /api/support-chat/conversations/31 200 in 399ms
 GET /api/support-chat/conversations/31 200 in 231ms
 GET /api/support-chat/conversations?unread_only=true 200 in 117ms
 GET /login 200 in 25ms
 GET /api/auth/session 200 in 6ms
 GET /favicon.ico 200 in 8ms
 GET /api/auth/session 200 in 2ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 367ms
 GET /api/auth/session 200 in 4ms
 GET /?_rsc=r3yhw 200 in 7ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 7ms
 GET /favicon.ico 200 in 3ms
 GET /favicon.ico 200 in 3ms
 GET /dashboard 200 in 14ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
 ✓ Compiled /apps in 161ms (1452 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /apps?_rsc=1kieo 200 in 10ms
 ✓ Compiled /api/user/apps/available in 109ms (1455 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /favicon.ico 200 in 197ms
 GET /api/user/apps/available 200 in 534ms
 GET /api/user/apps/available 200 in 75ms
 GET /api/support-chat/conversations?unread_only=true 200 in 48ms
 GET /dashboard 200 in 31ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
 ✓ Compiled /profile in 106ms (1469 modules)
 ✓ Compiled /api/user/permissions in 99ms (1477 modules)
 ✓ Compiled (1482 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /favicon.ico 200 in 265ms
 GET /api/user/permissions 200 in 393ms
 GET /api/user/permissions 200 in 39ms
 GET /api/user/activity 200 in 563ms
 GET /api/user/activity 200 in 286ms
 GET /api/user/profile 200 in 898ms
 GET /chat 200 in 55ms
 GET /api/user/profile 200 in 1034ms
 GET /favicon.ico 200 in 3ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
 ✓ Compiled /api/chat-langchain in 294ms (2049 modules)
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
🔍 Checking handoff for message: I need urgent human support with billing
🔍 Handoff result: {
  shouldHandoff: true,
  context: {
    aiChatHistory: [ [Object] ],
    userIntent: 'Payment or billing support required',
    urgency: 'high',
    category: 'billing',
    summary: 'User discussed: support, billing. Latest: I need urgent human support with billing...',
    handoffReason: 'User explicitly requested to speak with a human'
  }
}
🎯 HANDOFF TRIGGERED! Returning handoff suggestion to client
 POST /api/chat-langchain 200 in 388ms
 ✓ Compiled /api/support-chat/handoff in 178ms (2050 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 POST /api/support-chat/handoff 200 in 557ms
 GET /support/32?_rsc=6zq95 200 in 85ms
 ✓ Compiled /api/support-chat/conversations/[id] in 118ms (2052 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /favicon.ico 200 in 227ms
 GET /api/support-chat/conversations/32 200 in 462ms
 GET /api/support-chat/conversations/32 200 in 148ms
 ✓ Compiled /api/support-chat/messages in 180ms (2054 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 POST /api/support-chat/messages 201 in 349ms
 GET /api/support-chat/conversations/32 200 in 142ms
 GET /support 200 in 107ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 7ms
 GET /api/auth/session 200 in 3ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 64ms
 GET /api/support-chat/conversations?unread_only=true 200 in 76ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 43ms
 GET /api/support-chat/conversations?unread_only=true 200 in 40ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 46ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 38ms
 GET /login 200 in 15ms
 GET /api/auth/session 200 in 5ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 2ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 7ms
 POST /api/auth/callback/credentials 200 in 174ms
 GET /api/auth/session 200 in 4ms
 GET /?_rsc=r3yhw 200 in 6ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 8ms
 GET /favicon.ico 200 in 3ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 169ms
 GET /favicon.ico 200 in 7ms
 ✓ Compiled /api/support-chat/admin/conversations in 141ms (2056 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/session 200 in 297ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 4ms
 GET /api/support-chat/conversations?unread_only=true 200 in 380ms
 GET /api/support-chat/conversations?unread_only=true 200 in 43ms
 GET /api/support-chat/admin/conversations? 200 in 515ms
 GET /api/support-chat/admin/conversations? 200 in 106ms
 GET /api/support-chat/conversations?unread_only=true 200 in 32ms
 GET /api/support-chat/conversations?unread_only=true 200 in 190ms
 GET /api/support-chat/conversations?unread_only=true 200 in 111ms
 GET /api/support-chat/conversations?unread_only=true 200 in 115ms
 GET /api/support-chat/conversations?unread_only=true 200 in 113ms
 GET /api/support-chat/conversations?unread_only=true 200 in 173ms
 GET /login 200 in 23ms
 GET /api/auth/session 200 in 5ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/providers 200 in 3ms
 GET /api/auth/csrf 200 in 3ms
 GET /api/support-chat/conversations?unread_only=true 200 in 37ms
 POST /api/auth/callback/credentials 200 in 403ms
 GET /api/auth/session 200 in 8ms
 GET /?_rsc=r3yhw 200 in 6ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 8ms
 GET /favicon.ico 200 in 3ms
 GET /favicon.ico 200 in 4ms
 GET /dashboard 200 in 14ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
 GET /apps?_rsc=1kieo 200 in 7ms
 GET /favicon.ico 200 in 4ms
 GET /api/user/apps/available 200 in 197ms
 GET /api/user/apps/available 200 in 84ms
 GET /dashboard 200 in 14ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
 GET /favicon.ico 200 in 3ms
 GET /api/user/permissions 200 in 116ms
 GET /api/user/permissions 200 in 40ms
 GET /api/user/activity 200 in 465ms
 GET /api/user/activity 200 in 220ms
 GET /api/user/profile 200 in 699ms
 GET /api/user/profile 200 in 324ms
 GET /chat 200 in 23ms
 GET /favicon.ico 200 in 4ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 3ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: I need urgent human support with billing
🔍 Handoff result: {
  shouldHandoff: true,
  context: {
    aiChatHistory: [ [Object] ],
    userIntent: 'Payment or billing support required',
    urgency: 'high',
    category: 'billing',
    summary: 'User discussed: support, billing. Latest: I need urgent human support with billing...',
    handoffReason: 'User explicitly requested to speak with a human'
  }
}
🎯 HANDOFF TRIGGERED! Returning handoff suggestion to client
 POST /api/chat-langchain 200 in 78ms
 POST /api/support-chat/handoff 200 in 335ms
 GET /support/33?_rsc=1325p 200 in 69ms
 GET /favicon.ico 200 in 4ms
 GET /api/support-chat/conversations/33 200 in 220ms
 GET /api/support-chat/conversations/33 200 in 146ms
 POST /api/support-chat/messages 201 in 228ms
 GET /api/support-chat/conversations/33 200 in 143ms
 GET /support 200 in 85ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 6ms
 GET /api/auth/session 200 in 6ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 68ms
 GET /api/support-chat/conversations?unread_only=true 200 in 77ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 37ms
 GET /api/support-chat/conversations?unread_only=true 200 in 47ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 38ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 38ms
 GET /login 200 in 12ms
 GET /api/auth/session 200 in 6ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 3ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 152ms
 GET /api/auth/session 200 in 3ms
 GET /?_rsc=r3yhw 200 in 5ms
 GET /favicon.ico 200 in 6ms
 GET /dashboard?_rsc=1hhhi 200 in 6ms
 GET /favicon.ico 200 in 4ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 161ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 4ms
 GET /api/support-chat/conversations?unread_only=true 200 in 39ms
 GET /api/auth/session 200 in 5ms
 GET /api/support-chat/conversations?unread_only=true 200 in 44ms
 GET /api/support-chat/admin/conversations? 200 in 253ms
 GET /api/support-chat/admin/conversations? 200 in 102ms
 GET /api/support-chat/conversations?unread_only=true 200 in 142ms
 GET /login 200 in 13ms
 GET /api/auth/session 200 in 5ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 379ms
 GET /api/auth/session 200 in 4ms
 GET /?_rsc=r3yhw 200 in 7ms
 GET /favicon.ico 200 in 7ms
 GET /dashboard?_rsc=1hhhi 200 in 8ms
 GET /favicon.ico 200 in 4ms
 GET /favicon.ico 200 in 4ms
 GET /dashboard 200 in 13ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 4ms
 GET /apps?_rsc=1kieo 200 in 6ms
 GET /favicon.ico 200 in 3ms
 GET /api/user/apps/available 200 in 221ms
 GET /api/user/apps/available 200 in 72ms
 GET /dashboard 200 in 13ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 6ms
 GET /api/auth/session 200 in 4ms
 GET /favicon.ico 200 in 4ms
 GET /api/user/permissions 200 in 108ms
 GET /api/user/permissions 200 in 41ms
 GET /api/user/activity 200 in 360ms
 GET /api/user/profile 200 in 589ms
 GET /api/user/activity 200 in 231ms
 GET /api/user/profile 200 in 457ms
 GET /chat 200 in 12ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 4ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: I need urgent human support with billing
🔍 Handoff result: {
  shouldHandoff: true,
  context: {
    aiChatHistory: [ [Object] ],
    userIntent: 'Payment or billing support required',
    urgency: 'high',
    category: 'billing',
    summary: 'User discussed: support, billing. Latest: I need urgent human support with billing...',
    handoffReason: 'User explicitly requested to speak with a human'
  }
}
🎯 HANDOFF TRIGGERED! Returning handoff suggestion to client
 POST /api/chat-langchain 200 in 4ms
 POST /api/support-chat/handoff 200 in 360ms
 GET /support/34?_rsc=3h2z0 200 in 77ms
 GET /favicon.ico 200 in 3ms
 GET /api/support-chat/conversations/34 200 in 232ms
 GET /api/support-chat/conversations/34 200 in 151ms
 POST /api/support-chat/messages 201 in 216ms
 GET /api/support-chat/conversations/34 200 in 148ms
 GET /support 200 in 78ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 71ms
 GET /api/support-chat/conversations?unread_only=true 200 in 78ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 44ms
 GET /api/support-chat/conversations?unread_only=true 200 in 41ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 37ms
 GET /api/support-chat/conversations?page=1&limit=20 200 in 37ms
 GET /login 200 in 11ms
 GET /api/auth/session 200 in 5ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 2ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 239ms
 GET /api/auth/session 200 in 4ms
 GET /?_rsc=r3yhw 200 in 7ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 7ms
 GET /favicon.ico 200 in 4ms
🎯 SupportDashboard component mounting
 GET /admin/support 200 in 76ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/session 200 in 3ms
 GET /api/support-chat/conversations?unread_only=true 200 in 38ms
 GET /api/auth/session 200 in 5ms
 GET /api/support-chat/conversations?unread_only=true 200 in 47ms
 GET /api/support-chat/admin/conversations? 200 in 209ms
 GET /api/support-chat/admin/conversations? 200 in 92ms
 GET /support/31 200 in 78ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 7ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 4ms
 GET /api/support-chat/conversations/31 200 in 202ms
 GET /api/support-chat/conversations/31 200 in 147ms
 GET /api/support-chat/conversations?unread_only=true 200 in 42ms
 GET /api/support-chat/conversations?unread_only=true 200 in 117ms
 GET /login 200 in 14ms
 GET /api/auth/session 200 in 6ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 460ms
 GET /api/auth/session 200 in 5ms
 GET /?_rsc=r3yhw 200 in 8ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 9ms
 GET /favicon.ico 200 in 3ms
 GET /chat 200 in 12ms
 GET /favicon.ico 200 in 4ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 4ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: I need urgent human support with billing
🔍 Handoff result: {
  shouldHandoff: true,
  context: {
    aiChatHistory: [ [Object] ],
    userIntent: 'Payment or billing support required',
    urgency: 'high',
    category: 'billing',
    summary: 'User discussed: support, billing. Latest: I need urgent human support with billing...',
    handoffReason: 'User explicitly requested to speak with a human'
  }
}
🎯 HANDOFF TRIGGERED! Returning handoff suggestion to client
 POST /api/chat-langchain 200 in 5ms
 POST /api/support-chat/handoff 200 in 373ms
 GET /support/35?_rsc=w5wiv 200 in 77ms
 GET /favicon.ico 200 in 4ms
 GET /api/support-chat/conversations/35 200 in 144ms
 GET /api/support-chat/conversations/35 200 in 223ms
 GET /api/support-chat/conversations?unread_only=true 200 in 176ms
 GET /login 200 in 14ms
 GET /api/auth/session 200 in 6ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 782ms
 GET /api/auth/session 200 in 5ms
 GET /?_rsc=r3yhw 200 in 6ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 7ms
 GET /favicon.ico 200 in 3ms
 GET /support/16 200 in 167ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 4ms
 GET /api/support-chat/conversations/16 200 in 145ms
 GET /api/support-chat/conversations/16 200 in 232ms
 GET /api/support-chat/conversations?unread_only=true 200 in 132ms
 GET /api/support-chat/conversations?unread_only=true 200 in 216ms
 GET /login 200 in 14ms
 GET /api/auth/session 200 in 6ms
 GET /favicon.ico 200 in 7ms
 GET /api/auth/session 200 in 2ms
 GET /api/auth/providers 200 in 3ms
 GET /api/auth/csrf 200 in 5ms
 POST /api/auth/callback/credentials 200 in 449ms
 GET /api/auth/session 200 in 3ms
 GET /?_rsc=r3yhw 200 in 5ms
 GET /favicon.ico 200 in 6ms
 GET /dashboard?_rsc=1hhhi 200 in 7ms
 GET /favicon.ico 200 in 4ms
 GET /chat 200 in 15ms
 GET /favicon.ico 200 in 3ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 3ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: Hello, I need help with my billing
🔍 Handoff result: {
  shouldHandoff: true,
  context: {
    aiChatHistory: [ [Object] ],
    userIntent: 'Payment or billing support required',
    urgency: 'normal',
    category: 'billing',
    summary: 'User discussed: help, billing. Latest: Hello, I need help with my billing...',
    handoffReason: 'User explicitly requested to speak with a human'
  }
}
🎯 HANDOFF TRIGGERED! Returning handoff suggestion to client
 POST /api/chat-langchain 200 in 5ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: I have a complex question about multi-currency payments
🔍 Handoff result: {
  shouldHandoff: true,
  context: {
    aiChatHistory: [ [Object], [Object], [Object] ],
    userIntent: 'Payment or billing support required',
    urgency: 'normal',
    category: 'billing',
    summary: 'User discussed: help, billing. Latest: I have a complex question about multi-currency payments...',
    handoffReason: 'User explicitly requested to speak with a human'
  }
}
🎯 HANDOFF TRIGGERED! Returning handoff suggestion to client
 POST /api/chat-langchain 200 in 5ms
 POST /api/support-chat/handoff 200 in 433ms
 GET /support/36?_rsc=1s8by 200 in 80ms
 GET /favicon.ico 200 in 4ms
 GET /api/support-chat/conversations/36 200 in 234ms
 GET /api/support-chat/conversations/36 200 in 149ms
 GET /api/support-chat/conversations?unread_only=true 200 in 591ms
 GET /login 200 in 14ms
 GET /api/auth/session 200 in 5ms
 GET /favicon.ico 200 in 6ms
 GET /api/auth/session 200 in 3ms
 GET /api/auth/providers 200 in 4ms
 GET /api/auth/csrf 200 in 3ms
 POST /api/auth/callback/credentials 200 in 313ms
 GET /api/auth/session 200 in 5ms
 GET /?_rsc=r3yhw 200 in 6ms
 GET /favicon.ico 200 in 5ms
 GET /dashboard?_rsc=1hhhi 200 in 8ms
 GET /favicon.ico 200 in 3ms
 GET /favicon.ico 200 in 4ms
 GET /dashboard 200 in 12ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 4ms
 GET /apps?_rsc=1kieo 200 in 9ms
 GET /favicon.ico 200 in 3ms
 GET /api/user/apps/available 200 in 245ms
 GET /api/user/apps/available 200 in 79ms
 GET /dashboard 200 in 12ms
 GET /favicon.ico 200 in 5ms
 GET /api/auth/session 200 in 5ms
 GET /api/auth/session 200 in 2ms
 GET /favicon.ico 200 in 4ms
 GET /api/user/permissions 200 in 39ms
 GET /api/user/permissions 200 in 38ms
 GET /api/user/activity 200 in 315ms
 GET /api/user/profile 200 in 550ms
 GET /api/user/activity 200 in 288ms
 GET /api/user/profile 200 in 248ms
 GET /chat 200 in 12ms
 GET /favicon.ico 200 in 3ms
 GET /api/auth/session 200 in 4ms
 GET /api/auth/session 200 in 3ms
🚨 LANGCHAIN API CALLED - Handoff detection enabled!
🔍 Checking handoff for message: I need urgent human support with billing
🔍 Handoff result: {
  shouldHandoff: true,
  context: {
    aiChatHistory: [ [Object] ],
    userIntent: 'Payment or billing support required',
    urgency: 'high',
    category: 'billing',
    summary: 'User discussed: support, billing. Latest: I need urgent human support with billing...',
    handoffReason: 'User explicitly requested to speak with a human'
  }
}
🎯 HANDOFF TRIGGERED! Returning handoff suggestion to client
 POST /api/chat-langchain 200 in 6ms
 POST /api/support-chat/handoff 200 in 388ms
 GET /support/37?_rsc=p9ncp 200 in 82ms
 GET /favicon.ico 200 in 4ms
 GET /api/support-chat/conversations/37 200 in 219ms
 GET /api/support-chat/conversations/37 200 in 158ms
 POST /api/support-chat/messages 201 in 230ms
 GET /api/support-chat/conversations/37 200 in 156ms
 GET /api/support-chat/conversations?unread_only=true 200 in 293ms
 GET /api/support-chat/conversations?unread_only=true 200 in 298ms
   Reload env: .env.local
 ✓ Compiled in 315ms (2643 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /admin/support?_rsc=1rxeu 200 in 268ms
 GET /api/support-chat/conversations?unread_only=true 200 in 53ms
   Reload env: .env
 ✓ Compiled in 132ms (2643 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /admin/support?_rsc=1rxeu 200 in 110ms
 GET /api/support-chat/conversations?unread_only=true 200 in 116ms
   Reload env: .env.local
 ✓ Compiled in 191ms (2643 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /admin/support?_rsc=1rxeu 200 in 244ms
 GET /api/support-chat/conversations?unread_only=true 200 in 54ms
   Reload env: .env
 ✓ Compiled in 125ms (2643 modules)
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /admin/support?_rsc=1rxeu 200 in 79ms
[?25h
